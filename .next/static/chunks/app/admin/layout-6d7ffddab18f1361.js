(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{30190:function(e,n,t){Promise.resolve().then(t.bind(t,22307))},22307:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var o=t(57437),c=t(2265),r=t(99376),i=t(58380),s=t(40257);async function u(e){console.log(s.env.AUTH0_SECRET);let n=new TextEncoder().encode("e35ab6e673abef5085d3a57593600be187971f0bd9b6027cabd84c254ffbbcbc");try{let{payload:t}=await (0,i.V)(e,n);return t}catch(e){return console.error("Failed to decrypt token:",e),null}}function a(e){let{children:n}=e,[t,i]=(0,c.useState)(!0),s=(0,r.useRouter)();return((0,c.useEffect)(()=>{(async function(){try{let e=await fetch("/api/auth",{credentials:"include"}),n=await e.json(),t=n.session.idToken;console.log(u(t)),n.session.user?(console.log(n),i(!1)):s.push("/api/auth/login")}catch(e){console.error("Authentication error:",e),s.push("/api/auth/login")}})()},[s]),t)?(0,o.jsx)("div",{children:"Loading..."}):(0,o.jsx)(o.Fragment,{children:n})}}},function(e){e.O(0,[232,971,117,744],function(){return e(e.s=30190)}),_N_E=e.O()}]);