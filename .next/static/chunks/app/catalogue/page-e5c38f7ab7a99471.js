(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{79810:function(e,t,a){Promise.resolve().then(a.bind(a,31761))},89965:function(e,t,a){"use strict";a.d(t,{FE:function(){return x},Gx:function(){return d},TJ:function(){return f},VR:function(){return o},Z$:function(){return m},aS:function(){return i},hM:function(){return c},if:function(){return l},kZ:function(){return r},yu:function(){return u}});var s=a(83464);let n="http://139.59.246.168:8040",r=async(e,t)=>{let a=new URLSearchParams({q:e});return t&&a.append("subcategory",t),(await s.Z.get("".concat(n,"/search"),{params:a})).data},i=async()=>{let e=await s.Z.get("".concat(n,"/materials"));return console.log(e.data),e.data},l=async(e,t,a)=>{let r=new URLSearchParams({category:e});t&&r.append("subcategory",t),a&&r.append("subSubcategory",a);let i=await s.Z.get("".concat(n,"/materials/filter"),{params:r});return console.log(i.data),i.data},c=async e=>(await s.Z.post("".concat(n,"/materials"),e)).data,o=async(e,t)=>(await s.Z.put("".concat(n,"/materials/").concat(e),t)).data,d=async e=>{await s.Z.delete("".concat(n,"/materials/").concat(e))},u=async()=>{let e=await s.Z.get("".concat(n,"/types"));return console.log(e.data),e.data},m=async e=>(await s.Z.post("".concat(n,"/types"),e)).data,f=async(e,t)=>(await s.Z.put("".concat(n,"/types/").concat(e),t)).data,x=async e=>{await s.Z.delete("".concat(n,"/types/").concat(e))}},31761:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(57437),n=a(2265),r=a(89965),i=a(8588),l=a(78671),c=a(62869),o=a(95186),d=a(26110),u=a(96818),m=a(3289),f=a(76848);function x(){var e,t;let[a,x]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[p,v]=(0,n.useState)(null),[j,N]=(0,n.useState)([]),[y,b]=(0,n.useState)([]),[w,k]=(0,n.useState)(null),[C,S]=(0,n.useState)(null),[Z,R]=(0,n.useState)(null),[z,_]=(0,n.useState)(""),[D,P]=(0,n.useState)(""),[E,F]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,r.yu)();g(e),e.length>0&&e[0].categories.length>0&&(k(e[0].name),S(e[0].categories[0].name))}catch(e){console.error("Error fetching categories:",e)}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{if(D.trim()){let e=await (0,r.kZ)(z,Z||void 0);P(""),x(e)}else if(C){let e=await (0,r.if)(C,Z||void 0);x(e)}}catch(e){console.error("Error fetching materials:",e)}})()},[C,Z,z]),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(c.z,{className:"md:hidden bg-slate-900 mb-4",onClick:()=>F(!E),children:[(0,s.jsx)(u.Z,{className:"h-6 w-6"}),"Categories"]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-[400px_1fr]",children:[(0,s.jsxs)("aside",{className:"space-y-4 bg-slate-900 p-4 rounded-lg text-white md:block ".concat(E?"block":"hidden"),children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Categories"}),h.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start text-white hover:text-white hover:bg-slate-800 ".concat(w===e.name?"font-bold":""),onClick:()=>{k(e.name),N(t=>t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name])},children:[j.includes(e.name)?(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," ",e.name]}),j.includes(e.name)&&(0,s.jsx)("div",{className:"ml-4",children:e.categories.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start pl-6 text-slate-300 hover:text-white hover:bg-slate-800 ".concat(C===e.name?"font-bold":""),onClick:()=>{S(e.name),R(null),b(t=>t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name])},children:[y.includes(e.name)?(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," ",e.name]}),y.includes(e.name)&&e.subcategories&&(0,s.jsx)("div",{className:"ml-6",children:e.subcategories.map(e=>(0,s.jsx)(c.z,{variant:"ghost",className:"w-full justify-start pl-8 text-slate-400 hover:text-white hover:bg-slate-800 ".concat(Z===e.name?"font-bold":""),onClick:()=>{R(e.name)},children:e.name},e.name))})]},e.name))})]},e.name))]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Cost Catalogue"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(o.I,{placeholder:"Search materials...",className:"max-w-sm",value:D,onChange:e=>P(e.target.value),onKeyUp:e=>{"Enter"===e.key&&_(D)}}),(0,s.jsx)(c.z,{onClick:()=>{_(D)},children:"Search"}),(0,s.jsx)(c.z,{variant:"outline",onClick:()=>{P(""),_("")},children:"Clear"})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.length>0?a.map(e=>{var t;return(0,s.jsx)(i.F,{name:e.Name,unit:e.Unit,location:"National",rating:4,price:(null===(t=e.Prices.find(e=>e[1]))||void 0===t?void 0:t[1])||0,onClick:()=>v(e)},e.Number)}):(0,s.jsx)("p",{className:"text-gray-500",children:"No materials found"})})]})]}),(0,s.jsx)(d.Vq,{open:!!p,onOpenChange:()=>v(null),children:(0,s.jsx)(d.cZ,{className:"max-w-2xl",children:p&&(0,s.jsxs)("div",{className:"p-4 space-y-4 bg-white rounded-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:p.Name}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("div",{className:"col-span-2 text-center",children:(0,s.jsxs)("p",{className:"text-gray-700 text-lg",children:["Latest Price: ",(0,s.jsxs)("span",{className:"text-green-600",children:["$",(null===(t=p.Prices.find(e=>e[1]))||void 0===t?void 0:null===(e=t[1])||void 0===e?void 0:e.toFixed(2))||0]})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-gray-600",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Category:"})," ",p.Category.Category]})}),p.Category.Subcategory&&(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-gray-600",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Subcategory:"})," ",p.Category.Subcategory]})}),p.Category["Sub subcategory"]&&(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-gray-600",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Sub-Subcategory:"})," ",p.Category["Sub subcategory"]]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-gray-600",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Unit:"})," ",p.Unit]})})]}),(0,s.jsx)(l.a,{itemName:p.Name,prices:p.Prices.map(e=>{let[t,a]=e;return{date:t,price:a}}),onClose:()=>v(null)})]})})})]})}},8588:function(e,t,a){"use strict";a.d(t,{F:function(){return r}});var s=a(57437),n=a(66070);function r(e){let{name:t,unit:a,location:r,rating:i,price:l,onClick:c}=e;return(0,s.jsx)(n.Zb,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:c,children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-medium",children:t}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("span",{children:["Unit: ",a]})})})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Price"}),(0,s.jsxs)("div",{className:"font-semibold",children:["Rs. ",Number(l).toFixed(2)]})]})]})})}},78671:function(e,t,a){"use strict";a.d(t,{a:function(){return u}});var s=a(57437),n=a(47625),r=a(58336),i=a(97059),l=a(62994),c=a(8147),o=a(54061),d=a(66070);function u(e){let{itemName:t,prices:a,onClose:u}=e,m=a.filter(e=>null!==e.price);return(0,s.jsxs)(d.Zb,{className:"w-full max-w-2xl",children:[(0,s.jsx)(d.Ol,{className:"relative flex items-center justify-center pb-2",children:(0,s.jsx)("br",{})}),(0,s.jsx)(d.aY,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(n.h,{width:"100%",height:"100%",children:(0,s.jsxs)(r.w,{data:m,children:[(0,s.jsx)(i.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString(),stroke:"#888888",fontSize:12}),(0,s.jsx)(l.B,{stroke:"#888888",fontSize:12,tickFormatter:e=>"Rs. ".concat(e)}),(0,s.jsx)(c.u,{content:e=>{let{active:t,payload:a}=e;return t&&a&&a.length?(0,s.jsx)("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Date"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:new Date(a[0].payload.date).toLocaleDateString()}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Price"}),(0,s.jsxs)("div",{className:"text-sm font-medium",children:["Rs. ",a[0].value]})]})}):null}}),(0,s.jsx)(o.x,{type:"monotone",dataKey:"price",stroke:"var(--primary)",strokeWidth:2,dot:{fill:"var(--primary)"}})]})})})}),(0,s.jsxs)(d.eW,{className:"relative flex items-center justify-center pb-2",children:[(0,s.jsx)(d.ll,{className:"absolute text-md ",children:"Price History"}),(0,s.jsx)("br",{})]})]})}},62869:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var s=a(57437),n=a(2265),r=a(37053),i=a(90535),l=a(94508);let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:o=!1,...d}=e,u=o?r.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(c({variant:n,size:i,className:a})),ref:t,...d})});o.displayName="Button"},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var s=a(57437),n=a(2265),r=a(94508);let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight",a),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...n})});u.displayName="CardFooter"},26110:function(e,t,a){"use strict";a.d(t,{$N:function(){return h},Be:function(){return g},Vq:function(){return c},cN:function(){return x},cZ:function(){return m},fK:function(){return f},hg:function(){return o}});var s=a(57437),n=a(2265),r=a(95369),i=a(44986),l=a(94508);let c=r.fC,o=r.xz,d=r.h_;r.x8;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});u.displayName=r.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:a,children:n,...c}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[n,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});h.displayName=r.Dx.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})});g.displayName=r.dk.displayName},95186:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var s=a(57437),n=a(2265),r=a(94508);let i=n.forwardRef((e,t)=>{let{className:a,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(61994),n=a(53335);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[137,441,971,117,744],function(){return e(e.s=79810)}),_N_E=e.O()}]);