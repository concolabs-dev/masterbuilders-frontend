"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{86824:function(t,e,r){e.aF=e.UserProvider=void 0;let s=r(5853),i=s.__importStar(r(32516));Object.defineProperty(e,"UserProvider",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"aF",{enumerable:!0,get:function(){return i.useUser}}),s.__importDefault(r(77611))},73070:function(t,e,r){var s=r(40257);Object.defineProperty(e,"__esModule",{value:!0}),e.useConfig=void 0;let i=r(5853).__importStar(r(2265)),n=(0,i.createContext)({});e.useConfig=()=>(0,i.useContext)(n),e.default=t=>{let{children:e,loginUrl:r=s.env.NEXT_PUBLIC_AUTH0_LOGIN||"/api/auth/login"}=t;return i.default.createElement(n.Provider,{value:{loginUrl:r}},e)}},32516:function(t,e,r){var s=r(40257);Object.defineProperty(e,"__esModule",{value:!0}),e.useUser=e.UserContext=e.RequestError=void 0;let i=r(5853),n=i.__importStar(r(2265)),a=i.__importDefault(r(73070));class o extends Error{constructor(t){super(),this.status=t,Object.setPrototypeOf(this,o.prototype)}}e.RequestError=o;let u="You forgot to wrap your app in <UserProvider>";e.UserContext=(0,n.createContext)({get user(){throw Error(u)},get error(){throw Error(u)},get isLoading(){throw Error(u)},checkSession:()=>{throw Error(u)}}),e.useUser=()=>(0,n.useContext)(e.UserContext);let c=async t=>{let e;try{e=await fetch(t)}catch(t){throw new o(0)}if(204!=e.status){if(e.ok)return e.json();throw new o(e.status)}};e.default=t=>{let{children:r,user:i,profileUrl:o=s.env.NEXT_PUBLIC_AUTH0_PROFILE||"/api/auth/me",loginUrl:u,fetcher:l=c}=t,[h,d]=(0,n.useState)({user:i,isLoading:!i}),f=(0,n.useCallback)(async()=>{try{let t=await l(o);d(e=>Object.assign(Object.assign({},e),{user:t,error:void 0}))}catch(t){d(e=>Object.assign(Object.assign({},e),{error:t}))}},[o]);(0,n.useEffect)(()=>{h.user||(async()=>{await f(),d(t=>Object.assign(Object.assign({},t),{isLoading:!1}))})()},[h.user]);let{user:p,error:y,isLoading:m}=h,v=(0,n.useMemo)(()=>({user:p,error:y,isLoading:m,checkSession:f}),[p,y,m,f]);return n.default.createElement(a.default,{loginUrl:u},n.default.createElement(e.UserContext.Provider,{value:v},r))}},77611:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});let s=r(5853).__importStar(r(2265)),i=r(73070),n=r(32516),a=()=>s.default.createElement(s.default.Fragment,null),o=()=>s.default.createElement(s.default.Fragment,null);e.default=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){let{returnTo:u,onRedirecting:c=a,onError:l=o}=e,{loginUrl:h}=(0,i.useConfig)(),{user:d,error:f,isLoading:p}=(0,n.useUser)();return((0,s.useEffect)(()=>{let t;if((!d||f)&&!p){if(u)t=u;else{let e=window.location.toString();t=e.replace(new URL(e).origin,"")||"/"}window.location.assign("".concat(h,"?returnTo=").concat(encodeURIComponent(t)))}},[d,f,p]),f)?l(f):d?s.default.createElement(t,Object.assign({user:d},r)):c()}}},6394:function(t,e,r){r.d(e,{f:function(){return o}});var s=r(2265),i=r(66840),n=r(57437),a=s.forwardRef((t,e)=>(0,n.jsx)(i.WV.label,{...t,ref:e,onMouseDown:e=>{var r;e.target.closest("button, input, select, textarea")||(null===(r=t.onMouseDown)||void 0===r||r.call(t,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));a.displayName="Label";var o=a},32449:function(t,e,r){r.d(e,{VY:function(){return X},aV:function(){return W},fC:function(){return z},xz:function(){return B}});var s=r(2265),i=r(6741),n=r(73966),a=r(98575),o=r(37053),u=r(57437),c=r(99255),l=r(66840),h=r(26606),d=r(80886),f=s.createContext(void 0);function p(t){let e=s.useContext(f);return t||e||"ltr"}var y="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},v="RovingFocusGroup",[b,g,C]=function(t){let e=t+"CollectionProvider",[r,i]=(0,n.b)(e),[c,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),h=t=>{let{scope:e,children:r}=t,i=s.useRef(null),n=s.useRef(new Map).current;return(0,u.jsx)(c,{scope:e,itemMap:n,collectionRef:i,children:r})};h.displayName=e;let d=t+"CollectionSlot",f=s.forwardRef((t,e)=>{let{scope:r,children:s}=t,i=l(d,r),n=(0,a.e)(e,i.collectionRef);return(0,u.jsx)(o.g7,{ref:n,children:s})});f.displayName=d;let p=t+"CollectionItemSlot",y="data-radix-collection-item",m=s.forwardRef((t,e)=>{let{scope:r,children:i,...n}=t,c=s.useRef(null),h=(0,a.e)(e,c),d=l(p,r);return s.useEffect(()=>(d.itemMap.set(c,{ref:c,...n}),()=>void d.itemMap.delete(c))),(0,u.jsx)(o.g7,{[y]:"",ref:h,children:i})});return m.displayName=p,[{Provider:h,Slot:f,ItemSlot:m},function(e){let r=l(t+"CollectionConsumer",e);return s.useCallback(()=>{let t=r.collectionRef.current;if(!t)return[];let e=Array.from(t.querySelectorAll("[".concat(y,"]")));return Array.from(r.itemMap.values()).sort((t,r)=>e.indexOf(t.ref.current)-e.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},i]}(v),[w,R]=(0,n.b)(v,[C]),[O,S]=w(v),E=s.forwardRef((t,e)=>(0,u.jsx)(b.Provider,{scope:t.__scopeRovingFocusGroup,children:(0,u.jsx)(b.Slot,{scope:t.__scopeRovingFocusGroup,children:(0,u.jsx)(x,{...t,ref:e})})}));E.displayName=v;var x=s.forwardRef((t,e)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:C,preventScrollOnEntryFocus:w=!1,...R}=t,S=s.useRef(null),E=(0,a.e)(e,S),x=p(c),[M=null,P]=(0,d.T)({prop:f,defaultProp:v,onChange:b}),[F,T]=s.useState(!1),q=(0,h.W)(C),D=g(r),I=s.useRef(!1),[j,k]=s.useState(0);return s.useEffect(()=>{let t=S.current;if(t)return t.addEventListener(y,q),()=>t.removeEventListener(y,q)},[q]),(0,u.jsx)(O,{scope:r,orientation:n,dir:x,loop:o,currentTabStopId:M,onItemFocus:s.useCallback(t=>P(t),[P]),onItemShiftTab:s.useCallback(()=>T(!0),[]),onFocusableItemAdd:s.useCallback(()=>k(t=>t+1),[]),onFocusableItemRemove:s.useCallback(()=>k(t=>t-1),[]),children:(0,u.jsx)(l.WV.div,{tabIndex:F||0===j?-1:0,"data-orientation":n,...R,ref:E,style:{outline:"none",...t.style},onMouseDown:(0,i.M)(t.onMouseDown,()=>{I.current=!0}),onFocus:(0,i.M)(t.onFocus,t=>{let e=!I.current;if(t.target===t.currentTarget&&e&&!F){let e=new CustomEvent(y,m);if(t.currentTarget.dispatchEvent(e),!e.defaultPrevented){let t=D().filter(t=>t.focusable);Q([t.find(t=>t.active),t.find(t=>t.id===M),...t].filter(Boolean).map(t=>t.ref.current),w)}}I.current=!1}),onBlur:(0,i.M)(t.onBlur,()=>T(!1))})})}),M="RovingFocusGroupItem",P=s.forwardRef((t,e)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,...h}=t,d=(0,c.M)(),f=o||d,p=S(M,r),y=p.currentTabStopId===f,m=g(r),{onFocusableItemAdd:v,onFocusableItemRemove:C}=p;return s.useEffect(()=>{if(n)return v(),()=>C()},[n,v,C]),(0,u.jsx)(b.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:(0,u.jsx)(l.WV.span,{tabIndex:y?0:-1,"data-orientation":p.orientation,...h,ref:e,onMouseDown:(0,i.M)(t.onMouseDown,t=>{n?p.onItemFocus(f):t.preventDefault()}),onFocus:(0,i.M)(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:(0,i.M)(t.onKeyDown,t=>{if("Tab"===t.key&&t.shiftKey){p.onItemShiftTab();return}if(t.target!==t.currentTarget)return;let e=function(t,e,r){var s;let i=(s=t.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===e&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===e&&["ArrowUp","ArrowDown"].includes(i)))return F[i]}(t,p.orientation,p.dir);if(void 0!==e){if(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)return;t.preventDefault();let i=m().filter(t=>t.focusable).map(t=>t.ref.current);if("last"===e)i.reverse();else if("prev"===e||"next"===e){var r,s;"prev"===e&&i.reverse();let n=i.indexOf(t.currentTarget);i=p.loop?(r=i,s=n+1,r.map((t,e)=>r[(s+e)%r.length])):i.slice(n+1)}setTimeout(()=>Q(i))}})})})});P.displayName=M;var F={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.activeElement;for(let s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}var T=r(71599),q="Tabs",[D,I]=(0,n.b)(q,[R]),j=R(),[k,A]=D(q),U=s.forwardRef((t,e)=>{let{__scopeTabs:r,value:s,onValueChange:i,defaultValue:n,orientation:a="horizontal",dir:o,activationMode:h="automatic",...f}=t,y=p(o),[m,v]=(0,d.T)({prop:s,onChange:i,defaultProp:n});return(0,u.jsx)(k,{scope:r,baseId:(0,c.M)(),value:m,onValueChange:v,orientation:a,dir:y,activationMode:h,children:(0,u.jsx)(l.WV.div,{dir:y,"data-orientation":a,...f,ref:e})})});U.displayName=q;var _="TabsList",N=s.forwardRef((t,e)=>{let{__scopeTabs:r,loop:s=!0,...i}=t,n=A(_,r),a=j(r);return(0,u.jsx)(E,{asChild:!0,...a,orientation:n.orientation,dir:n.dir,loop:s,children:(0,u.jsx)(l.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:e})})});N.displayName=_;var L="TabsTrigger",K=s.forwardRef((t,e)=>{let{__scopeTabs:r,value:s,disabled:n=!1,...a}=t,o=A(L,r),c=j(r),h=G(o.baseId,s),d=Z(o.baseId,s),f=s===o.value;return(0,u.jsx)(P,{asChild:!0,...c,focusable:!n,active:f,children:(0,u.jsx)(l.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:h,...a,ref:e,onMouseDown:(0,i.M)(t.onMouseDown,t=>{n||0!==t.button||!1!==t.ctrlKey?t.preventDefault():o.onValueChange(s)}),onKeyDown:(0,i.M)(t.onKeyDown,t=>{[" ","Enter"].includes(t.key)&&o.onValueChange(s)}),onFocus:(0,i.M)(t.onFocus,()=>{let t="manual"!==o.activationMode;f||n||!t||o.onValueChange(s)})})})});K.displayName=L;var V="TabsContent",H=s.forwardRef((t,e)=>{let{__scopeTabs:r,value:i,forceMount:n,children:a,...o}=t,c=A(V,r),h=G(c.baseId,i),d=Z(c.baseId,i),f=i===c.value,p=s.useRef(f);return s.useEffect(()=>{let t=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(t)},[]),(0,u.jsx)(T.z,{present:n||f,children:r=>{let{present:s}=r;return(0,u.jsx)(l.WV.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":h,hidden:!s,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:s&&a})}})});function G(t,e){return"".concat(t,"-trigger-").concat(e)}function Z(t,e){return"".concat(t,"-content-").concat(e)}H.displayName=V;var z=U,W=N,B=K,X=H},87045:function(t,e,r){r.d(e,{j:function(){return n}});var s=r(24112),i=r(45345),n=new class extends s.l{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!i.sk&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#t?this.#t:globalThis.document?.visibilityState!=="hidden"}}},2894:function(t,e,r){r.d(e,{R:function(){return o},m:function(){return a}});var s=r(18238),i=r(7989),n=r(11255),a=class extends i.F{#s;#i;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#i=t.mutationCache,this.#s=[],this.state=t.state||o(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#s.includes(t)||(this.#s.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#s=this.#s.filter(e=>e!==t),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#s.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=(0,n.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#a({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});let e="pending"===this.state.status,r=!this.#n.canStart();try{if(!e){this.#a({type:"pending",variables:t,isPaused:r}),await this.#i.config.onMutate?.(t,this);let e=await this.options.onMutate?.(t);e!==this.state.context&&this.#a({type:"pending",context:e,variables:t,isPaused:r})}let s=await this.#n.start();return await this.#i.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#i.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#a({type:"success",data:s}),s}catch(e){try{throw await this.#i.config.onError?.(e,t,this.state.context,this),await this.options.onError?.(e,t,this.state.context),await this.#i.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,e,t,this.state.context),e}finally{this.#a({type:"error",error:e})}}finally{this.#i.runNext(this)}}#a(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),s.V.batch(()=>{this.#s.forEach(e=>{e.onMutationUpdate(t)}),this.#i.notify({mutation:this,type:"updated",action:t})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},18238:function(t,e,r){r.d(e,{V:function(){return s}});var s=function(){let t=[],e=0,r=t=>{t()},s=t=>{t()},i=t=>setTimeout(t,0),n=s=>{e?t.push(s):i(()=>{r(s)})},a=()=>{let e=t;t=[],e.length&&i(()=>{s(()=>{e.forEach(t=>{r(t)})})})};return{batch:t=>{let r;e++;try{r=t()}finally{--e||a()}return r},batchCalls:t=>(...e)=>{n(()=>{t(...e)})},schedule:n,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{s=t},setScheduler:t=>{i=t}}}()},57853:function(t,e,r){r.d(e,{N:function(){return n}});var s=r(24112),i=r(45345),n=new class extends s.l{#o=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!i.sk&&window.addEventListener){let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#o!==t&&(this.#o=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#o}}},21733:function(t,e,r){r.d(e,{A:function(){return o},z:function(){return u}});var s=r(45345),i=r(18238),n=r(11255),a=r(7989),o=class extends a.F{#u;#c;#l;#h;#n;#d;#f;constructor(t){super(),this.#f=!1,this.#d=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#h=t.client,this.#l=this.#h.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#u=function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,s=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#u,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#d,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#l.remove(this)}setData(t,e){let r=(0,s.oE)(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(s.ZT).catch(s.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#u)}isActive(){return this.observers.some(t=>!1!==(0,s.Nc)(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s.CN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,s.Kp)(this.state.dataUpdatedAt,t)}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#l.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#f?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#l.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let r=new AbortController,i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#f=!0,r.signal)})},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#h,state:this.state,fetchFn:()=>{let t=(0,s.cG)(this.options,e),r={client:this.#h,queryKey:this.queryKey,meta:this.meta};return(i(r),this.#f=!1,this.options.persister)?this.options.persister(t,r,this):t(r)}};i(a),this.options.behavior?.onFetch(a,this),this.#c=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta});let o=t=>{(0,n.DV)(t)&&t.silent||this.#a({type:"error",error:t}),(0,n.DV)(t)||(this.#l.config.onError?.(t,this),this.#l.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#n=(0,n.Mz)({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{if(void 0===t){o(Error(`${this.queryHash} data is undefined`));return}try{this.setData(t)}catch(t){o(t);return}this.#l.config.onSuccess?.(t,this),this.#l.config.onSettled?.(t,this.state.error,this),this.scheduleGc()},onError:o,onFail:(t,e)=>{this.#a({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...u(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=t.error;if((0,n.DV)(r)&&r.revert&&this.#c)return{...this.#c,fetchStatus:"idle"};return{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),i.V.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#l.notify({query:this,type:"updated",action:t})})}};function u(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.Kw)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}},21623:function(t,e,r){r.d(e,{S:function(){return y}});var s=r(45345),i=r(21733),n=r(18238),a=r(24112),o=class extends a.l{constructor(t={}){super(),this.config=t,this.#p=new Map}#p;build(t,e,r){let n=e.queryKey,a=e.queryHash??(0,s.Rm)(n,e),o=this.get(a);return o||(o=new i.A({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#p.has(t.queryHash)||(this.#p.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#p.get(t.queryHash);e&&(t.destroy(),e===t&&this.#p.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){n.V.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#p.get(t)}getAll(){return[...this.#p.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,s._x)(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>(0,s._x)(t,e)):e}notify(t){n.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){n.V.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){n.V.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},u=r(2894),c=class extends a.l{constructor(t={}){super(),this.config=t,this.#y=new Set,this.#m=new Map,this.#v=0}#y;#m;#v;build(t,e,r){let s=new u.m({mutationCache:this,mutationId:++this.#v,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){this.#y.add(t);let e=l(t);if("string"==typeof e){let r=this.#m.get(e);r?r.push(t):this.#m.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#y.delete(t)){let e=l(t);if("string"==typeof e){let r=this.#m.get(e);if(r){if(r.length>1){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r[0]===t&&this.#m.delete(e)}}}this.notify({type:"removed",mutation:t})}canRun(t){let e=l(t);if("string"!=typeof e)return!0;{let r=this.#m.get(e),s=r?.find(t=>"pending"===t.state.status);return!s||s===t}}runNext(t){let e=l(t);if("string"!=typeof e)return Promise.resolve();{let r=this.#m.get(e)?.find(e=>e!==t&&e.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){n.V.batch(()=>{this.#y.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#y.clear(),this.#m.clear()})}getAll(){return Array.from(this.#y)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,s.X7)(e,t))}findAll(t={}){return this.getAll().filter(e=>(0,s.X7)(t,e))}notify(t){n.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return n.V.batch(()=>Promise.all(t.map(t=>t.continue().catch(s.ZT))))}};function l(t){return t.options.scope?.id}var h=r(87045),d=r(57853);function f(t){return{onFetch:(e,r)=>{let i=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[],u={pages:[],pageParams:[]},c=0,l=async()=>{let r=!1,l=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?r=!0:e.signal.addEventListener("abort",()=>{r=!0}),e.signal)})},h=(0,s.cG)(e.options,e.fetchOptions),d=async(t,i,n)=>{if(r)return Promise.reject();if(null==i&&t.pages.length)return Promise.resolve(t);let a={client:e.client,queryKey:e.queryKey,pageParam:i,direction:n?"backward":"forward",meta:e.options.meta};l(a);let o=await h(a),{maxPages:u}=e.options,c=n?s.Ht:s.VX;return{pages:c(t.pages,o,u),pageParams:c(t.pageParams,i,u)}};if(n&&a.length){let t="backward"===n,e={pages:a,pageParams:o},r=(t?function(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}:p)(i,e);u=await d(e,r,t)}else{let e=t??a.length;do{let t=0===c?o[0]??i.initialPageParam:p(i,u);if(c>0&&null==t)break;u=await d(u,t),c++}while(c<e)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=l}}}function p(t,{pages:e,pageParams:r}){let s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}var y=class{#b;#i;#d;#g;#C;#w;#R;#O;constructor(t={}){this.#b=t.queryCache||new o,this.#i=t.mutationCache||new c,this.#d=t.defaultOptions||{},this.#g=new Map,this.#C=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#R=h.j.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#b.onFocus())}),this.#O=d.N.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#b.onOnline())}))}unmount(){this.#w--,0===this.#w&&(this.#R?.(),this.#R=void 0,this.#O?.(),this.#O=void 0)}isFetching(t){return this.#b.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#i.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#b.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#b.build(this,e),i=r.state.data;return void 0===i?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime((0,s.KC)(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#b.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,r){let i=this.defaultQueryOptions({queryKey:t}),n=this.#b.get(i.queryHash),a=n?.state.data,o=(0,s.SE)(e,a);if(void 0!==o)return this.#b.build(this,i).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return n.V.batch(()=>this.#b.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#b.get(e.queryHash)?.state}removeQueries(t){let e=this.#b;n.V.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let r=this.#b,s={type:"active",...t};return n.V.batch(()=>(r.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries(s,e)))}cancelQueries(t,e={}){let r={revert:!0,...e};return Promise.all(n.V.batch(()=>this.#b.findAll(t).map(t=>t.cancel(r)))).then(s.ZT).catch(s.ZT)}invalidateQueries(t,e={}){return n.V.batch(()=>{if(this.#b.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")return Promise.resolve();let r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(n.V.batch(()=>this.#b.findAll(t).filter(t=>!t.isDisabled()).map(t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(s.ZT)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(s.ZT)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let r=this.#b.build(this,e);return r.isStaleByTime((0,s.KC)(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(s.ZT).catch(s.ZT)}fetchInfiniteQuery(t){return t.behavior=f(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(s.ZT).catch(s.ZT)}ensureInfiniteQueryData(t){return t.behavior=f(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return d.N.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#i}getDefaultOptions(){return this.#d}setDefaultOptions(t){this.#d=t}setQueryDefaults(t,e){this.#g.set((0,s.Ym)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#g.values()],r={};return e.forEach(e=>{(0,s.to)(t,e.queryKey)&&Object.assign(r,e.defaultOptions)}),r}setMutationDefaults(t,e){this.#C.set((0,s.Ym)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#C.values()],r={};return e.forEach(e=>{(0,s.to)(t,e.mutationKey)&&(r={...r,...e.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#d.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,s.Rm)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===s.CN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#d.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#b.clear(),this.#i.clear()}}},7989:function(t,e,r){r.d(e,{F:function(){return i}});var s=r(45345),i=class{#S;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,s.PN)(this.gcTime)&&(this.#S=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(s.sk?1/0:3e5))}clearGcTimeout(){this.#S&&(clearTimeout(this.#S),this.#S=void 0)}}},11255:function(t,e,r){r.d(e,{DV:function(){return l},Kw:function(){return u},Mz:function(){return h}});var s=r(87045),i=r(57853),n=r(16803),a=r(45345);function o(t){return Math.min(1e3*2**t,3e4)}function u(t){return(t??"online")!=="online"||i.N.isOnline()}var c=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function l(t){return t instanceof c}function h(t){let e,r=!1,l=0,h=!1,d=(0,n.O)(),f=()=>s.j.isFocused()&&("always"===t.networkMode||i.N.isOnline())&&t.canRun(),p=()=>u(t.networkMode)&&t.canRun(),y=r=>{h||(h=!0,t.onSuccess?.(r),e?.(),d.resolve(r))},m=r=>{h||(h=!0,t.onError?.(r),e?.(),d.reject(r))},v=()=>new Promise(r=>{e=t=>{(h||f())&&r(t)},t.onPause?.()}).then(()=>{e=void 0,h||t.onContinue?.()}),b=()=>{let e;if(h)return;let s=0===l?t.initialPromise:void 0;try{e=s??t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(y).catch(e=>{if(h)return;let s=t.retry??(a.sk?0:3),i=t.retryDelay??o,n="function"==typeof i?i(l,e):i,u=!0===s||"number"==typeof s&&l<s||"function"==typeof s&&s(l,e);if(r||!u){m(e);return}l++,t.onFail?.(l,e),(0,a._v)(n).then(()=>f()?void 0:v()).then(()=>{r?m(e):b()})})};return{promise:d,cancel:e=>{h||(m(new c(e)),t.abort?.())},continue:()=>(e?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?b():v().then(b),d)}}},24112:function(t,e,r){r.d(e,{l:function(){return s}});var s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},16803:function(t,e,r){r.d(e,{O:function(){return s}});function s(){let t,e;let r=new Promise((r,s)=>{t=r,e=s});function s(t){Object.assign(r,t),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=e=>{s({status:"fulfilled",value:e}),t(e)},r.reject=t=>{s({status:"rejected",reason:t}),e(t)},r}},45345:function(t,e,r){r.d(e,{CN:function(){return O},Ht:function(){return R},KC:function(){return u},Kp:function(){return o},Nc:function(){return c},PN:function(){return a},Rm:function(){return d},SE:function(){return n},VS:function(){return y},VX:function(){return w},X7:function(){return h},Ym:function(){return f},ZT:function(){return i},_v:function(){return g},_x:function(){return l},cG:function(){return S},oE:function(){return C},sk:function(){return s},to:function(){return p}});var s="undefined"==typeof window||"Deno"in globalThis;function i(){}function n(t,e){return"function"==typeof t?t(e):t}function a(t){return"number"==typeof t&&t>=0&&t!==1/0}function o(t,e){return Math.max(t+(e||0)-Date.now(),0)}function u(t,e){return"function"==typeof t?t(e):t}function c(t,e){return"function"==typeof t?t(e):t}function l(t,e){let{type:r="all",exact:s,fetchStatus:i,predicate:n,queryKey:a,stale:o}=t;if(a){if(s){if(e.queryHash!==d(a,e.options))return!1}else if(!p(e.queryKey,a))return!1}if("all"!==r){let t=e.isActive();if("active"===r&&!t||"inactive"===r&&t)return!1}return("boolean"!=typeof o||e.isStale()===o)&&(!i||i===e.state.fetchStatus)&&(!n||!!n(e))}function h(t,e){let{exact:r,status:s,predicate:i,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(r){if(f(e.options.mutationKey)!==f(n))return!1}else if(!p(e.options.mutationKey,n))return!1}return(!s||e.state.status===s)&&(!i||!!i(e))}function d(t,e){return(e?.queryKeyHashFn||f)(t)}function f(t){return JSON.stringify(t,(t,e)=>v(e)?Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{}):e)}function p(t,e){return t===e||typeof t==typeof e&&!!t&&!!e&&"object"==typeof t&&"object"==typeof e&&!Object.keys(e).some(r=>!p(t[r],e[r]))}function y(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function m(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function v(t){if(!b(t))return!1;let e=t.constructor;if(void 0===e)return!0;let r=e.prototype;return!!(b(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(t)===Object.prototype}function b(t){return"[object Object]"===Object.prototype.toString.call(t)}function g(t){return new Promise(e=>{setTimeout(e,t)})}function C(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?function t(e,r){if(e===r)return e;let s=m(e)&&m(r);if(s||v(e)&&v(r)){let i=s?e:Object.keys(e),n=i.length,a=s?r:Object.keys(r),o=a.length,u=s?[]:{},c=0;for(let n=0;n<o;n++){let o=s?n:a[n];(!s&&i.includes(o)||s)&&void 0===e[o]&&void 0===r[o]?(u[o]=void 0,c++):(u[o]=t(e[o],r[o]),u[o]===e[o]&&void 0!==e[o]&&c++)}return n===o&&c===n?e:u}return r}(t,e):e}function w(t,e,r=0){let s=[...t,e];return r&&s.length>r?s.slice(1):s}function R(t,e,r=0){let s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var O=Symbol();function S(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==O?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))}},29827:function(t,e,r){r.d(e,{NL:function(){return a},aH:function(){return o}});var s=r(2265),i=r(57437),n=s.createContext(void 0),a=t=>{let e=s.useContext(n);if(t)return t;if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e},o=t=>{let{client:e,children:r}=t;return s.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,i.jsx)(n.Provider,{value:e,children:r})}},21770:function(t,e,r){r.d(e,{D:function(){return h}});var s=r(2265),i=r(2894),n=r(18238),a=r(24112),o=r(45345),u=class extends a.l{#h;#E=void 0;#x;#M;constructor(t,e){super(),this.#h=t,this.setOptions(e),this.bindMethods(),this.#P()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#h.defaultMutationOptions(t),(0,o.VS)(this.options,e)||this.#h.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#x,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(e.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#x?.state.status==="pending"&&this.#x.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#x?.removeObserver(this)}onMutationUpdate(t){this.#P(),this.#F(t)}getCurrentResult(){return this.#E}reset(){this.#x?.removeObserver(this),this.#x=void 0,this.#P(),this.#F()}mutate(t,e){return this.#M=e,this.#x?.removeObserver(this),this.#x=this.#h.getMutationCache().build(this.#h,this.options),this.#x.addObserver(this),this.#x.execute(t)}#P(){let t=this.#x?.state??(0,i.R)();this.#E={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#F(t){n.V.batch(()=>{if(this.#M&&this.hasListeners()){let e=this.#E.variables,r=this.#E.context;t?.type==="success"?(this.#M.onSuccess?.(t.data,e,r),this.#M.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#M.onError?.(t.error,e,r),this.#M.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(t=>{t(this.#E)})})}},c=r(29827),l=r(51172);function h(t,e){let r=(0,c.NL)(e),[i]=s.useState(()=>new u(r,t));s.useEffect(()=>{i.setOptions(t)},[i,t]);let a=s.useSyncExternalStore(s.useCallback(t=>i.subscribe(n.V.batchCalls(t)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=s.useCallback((t,e)=>{i.mutate(t,e).catch(l.Z)},[i]);if(a.error&&(0,l.L)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}},16593:function(t,e,r){let s;r.d(e,{a:function(){return F}});var i=r(87045),n=r(18238),a=r(21733),o=r(24112),u=r(16803),c=r(45345),l=class extends o.l{constructor(t,e){super(),this.options=e,this.#h=t,this.#Q=null,this.#T=(0,u.O)(),this.options.experimental_prefetchInRender||this.#T.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#h;#q=void 0;#D=void 0;#E=void 0;#I;#j;#T;#Q;#k;#A;#U;#_;#N;#L;#K=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#q.addObserver(this),h(this.#q,this.options)?this.#V():this.updateResult(),this.#H())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#q,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#q,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#G(),this.#Z(),this.#q.removeObserver(this)}setOptions(t,e){let r=this.options,s=this.#q;if(this.options=this.#h.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,c.Nc)(this.options.enabled,this.#q))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#z(),this.#q.setOptions(this.options),r._defaulted&&!(0,c.VS)(this.options,r)&&this.#h.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#q,observer:this});let i=this.hasListeners();i&&f(this.#q,s,this.options,r)&&this.#V(),this.updateResult(e),i&&(this.#q!==s||(0,c.Nc)(this.options.enabled,this.#q)!==(0,c.Nc)(r.enabled,this.#q)||(0,c.KC)(this.options.staleTime,this.#q)!==(0,c.KC)(r.staleTime,this.#q))&&this.#W();let n=this.#B();i&&(this.#q!==s||(0,c.Nc)(this.options.enabled,this.#q)!==(0,c.Nc)(r.enabled,this.#q)||n!==this.#L)&&this.#X(n)}getOptimisticResult(t){let e=this.#h.getQueryCache().build(this.#h,t),r=this.createResult(e,t);return(0,c.VS)(this.getCurrentResult(),r)||(this.#E=r,this.#j=this.options,this.#I=this.#q.state),r}getCurrentResult(){return this.#E}trackResult(t,e){let r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),e?.(s),t[s])})}),r}trackProp(t){this.#K.add(t)}getCurrentQuery(){return this.#q}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#h.defaultQueryOptions(t),r=this.#h.getQueryCache().build(this.#h,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#V({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#E))}#V(t){this.#z();let e=this.#q.fetch(this.options,t);return t?.throwOnError||(e=e.catch(c.ZT)),e}#W(){this.#G();let t=(0,c.KC)(this.options.staleTime,this.#q);if(c.sk||this.#E.isStale||!(0,c.PN)(t))return;let e=(0,c.Kp)(this.#E.dataUpdatedAt,t);this.#_=setTimeout(()=>{this.#E.isStale||this.updateResult()},e+1)}#B(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#q):this.options.refetchInterval)??!1}#X(t){this.#Z(),this.#L=t,!c.sk&&!1!==(0,c.Nc)(this.options.enabled,this.#q)&&(0,c.PN)(this.#L)&&0!==this.#L&&(this.#N=setInterval(()=>{(this.options.refetchIntervalInBackground||i.j.isFocused())&&this.#V()},this.#L))}#H(){this.#W(),this.#X(this.#B())}#G(){this.#_&&(clearTimeout(this.#_),this.#_=void 0)}#Z(){this.#N&&(clearInterval(this.#N),this.#N=void 0)}createResult(t,e){let r;let s=this.#q,i=this.options,n=this.#E,o=this.#I,l=this.#j,d=t!==s?t.state:this.#D,{state:y}=t,m={...y},v=!1;if(e._optimisticResults){let r=this.hasListeners(),n=!r&&h(t,e),o=r&&f(t,s,e,i);(n||o)&&(m={...m,...(0,a.z)(y.data,t.options)}),"isRestoring"===e._optimisticResults&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:C}=m;if(e.select&&void 0!==m.data){if(n&&m.data===o?.data&&e.select===this.#k)r=this.#A;else try{this.#k=e.select,r=e.select(m.data),r=(0,c.oE)(n?.data,r,e),this.#A=r,this.#Q=null}catch(t){this.#Q=t}}else r=m.data;if(void 0!==e.placeholderData&&void 0===r&&"pending"===C){let t;if(n?.isPlaceholderData&&e.placeholderData===l?.placeholderData)t=n.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#U?.state.data,this.#U):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#Q=null}catch(t){this.#Q=t}void 0!==t&&(C="success",r=(0,c.oE)(n?.data,t,e),v=!0)}this.#Q&&(b=this.#Q,r=this.#A,g=Date.now(),C="error");let w="fetching"===m.fetchStatus,R="pending"===C,O="error"===C,S=R&&w,E=void 0!==r,x={status:C,fetchStatus:m.fetchStatus,isPending:R,isSuccess:"success"===C,isError:O,isInitialLoading:S,isLoading:S,data:r,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!R,isLoadingError:O&&!E,isPaused:"paused"===m.fetchStatus,isPlaceholderData:v,isRefetchError:O&&E,isStale:p(t,e),refetch:this.refetch,promise:this.#T};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===x.status?t.reject(x.error):void 0!==x.data&&t.resolve(x.data)},r=()=>{e(this.#T=x.promise=(0,u.O)())},i=this.#T;switch(i.status){case"pending":t.queryHash===s.queryHash&&e(i);break;case"fulfilled":("error"===x.status||x.data!==i.value)&&r();break;case"rejected":("error"!==x.status||x.error!==i.reason)&&r()}}return x}updateResult(t){let e=this.#E,r=this.createResult(this.#q,this.options);if(this.#I=this.#q.state,this.#j=this.options,void 0!==this.#I.data&&(this.#U=this.#q),(0,c.VS)(r,e))return;this.#E=r;let s={};t?.listeners!==!1&&(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#K.size)return!0;let s=new Set(r??this.#K);return this.options.throwOnError&&s.add("error"),Object.keys(this.#E).some(t=>this.#E[t]!==e[t]&&s.has(t))})()&&(s.listeners=!0),this.#F({...s,...t})}#z(){let t=this.#h.getQueryCache().build(this.#h,this.options);if(t===this.#q)return;let e=this.#q;this.#q=t,this.#D=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#H()}#F(t){n.V.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#E)}),this.#h.getQueryCache().notify({query:this.#q,type:"observerResultsUpdated"})})}};function h(t,e){return!1!==(0,c.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&d(t,e,e.refetchOnMount)}function d(t,e,r){if(!1!==(0,c.Nc)(e.enabled,t)){let s="function"==typeof r?r(t):r;return"always"===s||!1!==s&&p(t,e)}return!1}function f(t,e,r,s){return(t!==e||!1===(0,c.Nc)(s.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&p(t,r)}function p(t,e){return!1!==(0,c.Nc)(e.enabled,t)&&t.isStaleByTime((0,c.KC)(e.staleTime,t))}var y=r(2265),m=r(29827);r(57437);var v=y.createContext((s=!1,{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s})),b=()=>y.useContext(v),g=r(51172),C=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&!e.isReset()&&(t.retryOnMount=!1)},w=t=>{y.useEffect(()=>{t.clearReset()},[t])},R=t=>{let{result:e,errorResetBoundary:r,throwOnError:s,query:i,suspense:n}=t;return e.isError&&!r.isReset()&&!e.isFetching&&i&&(n&&void 0===e.data||(0,g.L)(s,[e.error,i]))},O=y.createContext(!1),S=()=>y.useContext(O);O.Provider;var E=t=>{let e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))},x=(t,e)=>t.isLoading&&t.isFetching&&!e,M=(t,e)=>t?.suspense&&e.isPending,P=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function F(t,e){return function(t,e,r){var s,i,a,o,u;let l=(0,m.NL)(r),h=S(),d=b(),f=l.defaultQueryOptions(t);null===(i=l.getDefaultOptions().queries)||void 0===i||null===(s=i._experimental_beforeQuery)||void 0===s||s.call(i,f),f._optimisticResults=h?"isRestoring":"optimistic",E(f),C(f,d),w(d);let p=!l.getQueryCache().get(f.queryHash),[v]=y.useState(()=>new e(l,f)),O=v.getOptimisticResult(f),F=!h&&!1!==t.subscribed;if(y.useSyncExternalStore(y.useCallback(t=>{let e=F?v.subscribe(n.V.batchCalls(t)):g.Z;return v.updateResult(),e},[v,F]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),y.useEffect(()=>{v.setOptions(f,{listeners:!1})},[f,v]),M(f,O))throw P(f,v,d);if(R({result:O,errorResetBoundary:d,throwOnError:f.throwOnError,query:l.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw O.error;if(null===(o=l.getDefaultOptions().queries)||void 0===o||null===(a=o._experimental_afterQuery)||void 0===a||a.call(o,f,O),f.experimental_prefetchInRender&&!c.sk&&x(O,h)){let t=p?P(f,v,d):null===(u=l.getQueryCache().get(f.queryHash))||void 0===u?void 0:u.promise;null==t||t.catch(g.Z).finally(()=>{v.updateResult()})}return f.notifyOnChangeProps?O:v.trackResult(O)}(t,l,e)}},51172:function(t,e,r){function s(t,e){return"function"==typeof t?t(...e):!!t}function i(){}r.d(e,{L:function(){return s},Z:function(){return i}})},33356:function(t,e,r){r.d(e,{Z:function(){return s}});let s=(0,r(96471).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},69626:function(t,e,r){r.d(e,{Z:function(){return s}});let s=(0,r(96471).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},43728:function(t,e,r){r.d(e,{Z:function(){return s}});let s=(0,r(96471).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);