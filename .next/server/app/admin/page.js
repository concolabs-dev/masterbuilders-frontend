(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},45212:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>h,pages:()=>c,routeModule:()=>f,tree:()=>u}),s(37406),s(70893),s(23711),s(90996);var r=s(30170),i=s(45002),a=s(83876),n=s.n(a),o=s(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let u=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,37406)),"/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,70893)),"/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,23711)),"/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/admin/page.tsx"],h="/admin/page",d={require:s,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},47545:(e,t,s)=>{Promise.resolve().then(s.bind(s,77934)),Promise.resolve().then(s.bind(s,96572)),Promise.resolve().then(s.bind(s,80072))},83050:(e,t,s)=>{Promise.resolve().then(s.bind(s,93957))},77934:(e,t,s)=>{"use strict";s.d(t,{default:()=>eX});var r=s(97247),i=s(23664),a=s(20996),n=s(1976),o=s(28964),l=s(41755),u=s(45216),c=s(59489),h=s(49508),d=s(62945),f=s(21599),p=s(51370),m=class extends d.l{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,f.O)(),this.options.experimental_prefetchInRender||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#i=void 0;#a=void 0;#n;#o;#s;#t;#l;#u;#c;#h;#d;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),y(this.#r,this.options)?this.#m():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#b(),this.#r.removeObserver(this)}setOptions(e,t){let s=this.options,r=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,p.Nc)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#r.setOptions(this.options),s._defaulted&&!(0,p.VS)(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let i=this.hasListeners();i&&b(this.#r,r,this.options,s)&&this.#m(),this.updateResult(t),i&&(this.#r!==r||(0,p.Nc)(this.options.enabled,this.#r)!==(0,p.Nc)(s.enabled,this.#r)||(0,p.KC)(this.options.staleTime,this.#r)!==(0,p.KC)(s.staleTime,this.#r))&&this.#x();let a=this.#j();i&&(this.#r!==r||(0,p.Nc)(this.options.enabled,this.#r)!==(0,p.Nc)(s.enabled,this.#r)||a!==this.#f)&&this.#w(a)}getOptimisticResult(e){let t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return(0,p.VS)(this.getCurrentResult(),s)||(this.#a=s,this.#o=this.options,this.#n=this.#r.state),s}getCurrentResult(){return this.#a}trackResult(e,t){let s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),s}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#m(e){this.#v();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(p.ZT)),t}#x(){this.#g();let e=(0,p.KC)(this.options.staleTime,this.#r);if(p.sk||this.#a.isStale||!(0,p.PN)(e))return;let t=(0,p.Kp)(this.#a.dataUpdatedAt,e);this.#h=setTimeout(()=>{this.#a.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#w(e){this.#b(),this.#f=e,!p.sk&&!1!==(0,p.Nc)(this.options.enabled,this.#r)&&(0,p.PN)(this.#f)&&0!==this.#f&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||u.j.isFocused())&&this.#m()},this.#f))}#y(){this.#x(),this.#w(this.#j())}#g(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#b(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){let s;let r=this.#r,i=this.options,a=this.#a,n=this.#n,o=this.#o,l=e!==r?e.state:this.#i,{state:u}=e,c={...u},d=!1;if(t._optimisticResults){let s=this.hasListeners(),a=!s&&y(e,t),n=s&&b(e,r,t,i);(a||n)&&(c={...c,...(0,h.z)(u.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:x}=c;if(t.select&&void 0!==c.data){if(a&&c.data===n?.data&&t.select===this.#l)s=this.#u;else try{this.#l=t.select,s=t.select(c.data),s=(0,p.oE)(a?.data,s,t),this.#u=s,this.#t=null}catch(e){this.#t=e}}else s=c.data;if(void 0!==t.placeholderData&&void 0===s&&"pending"===x){let e;if(a?.isPlaceholderData&&t.placeholderData===o?.placeholderData)e=a.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(x="success",s=(0,p.oE)(a?.data,e,t),d=!0)}this.#t&&(m=this.#t,s=this.#u,g=Date.now(),x="error");let j="fetching"===c.fetchStatus,w="pending"===x,C="error"===x,S=w&&j,N=void 0!==s,R={status:x,fetchStatus:c.fetchStatus,isPending:w,isSuccess:"success"===x,isError:C,isInitialLoading:S,isLoading:S,data:s,dataUpdatedAt:c.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:j,isRefetching:j&&!w,isLoadingError:C&&!N,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:C&&N,isStale:v(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===R.status?e.reject(R.error):void 0!==R.data&&e.resolve(R.data)},s=()=>{t(this.#s=R.promise=(0,f.O)())},i=this.#s;switch(i.status){case"pending":e.queryHash===r.queryHash&&t(i);break;case"fulfilled":("error"===R.status||R.data!==i.value)&&s();break;case"rejected":("error"!==R.status||R.error!==i.reason)&&s()}}return R}updateResult(e){let t=this.#a,s=this.createResult(this.#r,this.options);if(this.#n=this.#r.state,this.#o=this.options,void 0!==this.#n.data&&(this.#c=this.#r),(0,p.VS)(s,t))return;this.#a=s;let r={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#a).some(e=>this.#a[e]!==t[e]&&r.has(e))})()&&(r.listeners=!0),this.#C({...r,...e})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#C(e){c.V.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#a)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function y(e,t){return!1!==(0,p.Nc)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)||void 0!==e.state.data&&g(e,t,t.refetchOnMount)}function g(e,t,s){if(!1!==(0,p.Nc)(t.enabled,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&v(e,t)}return!1}function b(e,t,s,r){return(e!==t||!1===(0,p.Nc)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&v(e,s)}function v(e,t){return!1!==(0,p.Nc)(t.enabled,e)&&e.isStaleByTime((0,p.KC)(t.staleTime,e))}var x=o.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),j=()=>o.useContext(x);function w(e,t){return"function"==typeof e?e(...t):!!e}function C(){}var S=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},N=e=>{o.useEffect(()=>{e.clearReset()},[e])},R=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&void 0===e.data||w(s,[e.error,r])),O=o.createContext(!1),P=()=>o.useContext(O);O.Provider;var k=e=>{let t=e.staleTime;e.suspense&&(e.staleTime="function"==typeof t?(...e)=>Math.max(t(...e),1e3):Math.max(t??1e3,1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))},E=(e,t)=>e.isLoading&&e.isFetching&&!t,T=(e,t)=>e?.suspense&&t.isPending,M=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function q(e,t){return function(e,t,s){let r=(0,l.NL)(s),i=P(),a=j(),n=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(n),n._optimisticResults=i?"isRestoring":"optimistic",k(n),S(n,a),N(a);let u=!r.getQueryCache().get(n.queryHash),[h]=o.useState(()=>new t(r,n)),d=h.getOptimisticResult(n),f=!i&&!1!==e.subscribed;if(o.useSyncExternalStore(o.useCallback(e=>{let t=f?h.subscribe(c.V.batchCalls(e)):C;return h.updateResult(),t},[h,f]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),o.useEffect(()=>{h.setOptions(n,{listeners:!1})},[n,h]),T(n,d))throw M(n,h,a);if(R({result:d,errorResetBoundary:a,throwOnError:n.throwOnError,query:r.getQueryCache().get(n.queryHash),suspense:n.suspense}))throw d.error;if(r.getDefaultOptions().queries?._experimental_afterQuery?.(n,d),n.experimental_prefetchInRender&&!p.sk&&E(d,i)){let e=u?M(n,h,a):r.getQueryCache().get(n.queryHash)?.promise;e?.catch(C).finally(()=>{h.updateResult()})}return n.notifyOnChangeProps?d:h.trackResult(d)}(e,m,t)}var F=s(48079),D=class extends d.l{#e;#a=void 0;#S;#N;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#R()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,p.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#S,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,p.Ym)(t.mutationKey)!==(0,p.Ym)(this.options.mutationKey)?this.reset():this.#S?.state.status==="pending"&&this.#S.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#S?.removeObserver(this)}onMutationUpdate(e){this.#R(),this.#C(e)}getCurrentResult(){return this.#a}reset(){this.#S?.removeObserver(this),this.#S=void 0,this.#R(),this.#C()}mutate(e,t){return this.#N=t,this.#S?.removeObserver(this),this.#S=this.#e.getMutationCache().build(this.#e,this.options),this.#S.addObserver(this),this.#S.execute(e)}#R(){let e=this.#S?.state??(0,F.R)();this.#a={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#C(e){c.V.batch(()=>{if(this.#N&&this.hasListeners()){let t=this.#a.variables,s=this.#a.context;e?.type==="success"?(this.#N.onSuccess?.(e.data,t,s),this.#N.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#N.onError?.(e.error,t,s),this.#N.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#a)})})}};function Q(e,t){let s=(0,l.NL)(t),[r]=o.useState(()=>new D(s,e));o.useEffect(()=>{r.setOptions(e)},[r,e]);let i=o.useSyncExternalStore(o.useCallback(e=>r.subscribe(c.V.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=o.useCallback((e,t)=>{r.mutate(e,t).catch(C)},[r]);if(i.error&&w(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var I=s(58053),A=s(70170),U=s(70319),_=s(20732),K=s(93191),V=s(69008),L=s(27015),z=s(22251),Z=s(85090),$=s(28469),G=o.createContext(void 0);function H(e){let t=o.useContext(G);return e||t||"ltr"}var B="rovingFocusGroup.onEntryFocus",W={bubbles:!1,cancelable:!0},X="RovingFocusGroup",[Y,J,ee]=function(e){let t=e+"CollectionProvider",[s,i]=(0,_.b)(t),[a,n]=s(t,{collectionRef:{current:null},itemMap:new Map}),l=e=>{let{scope:t,children:s}=e,i=o.useRef(null),n=o.useRef(new Map).current;return(0,r.jsx)(a,{scope:t,itemMap:n,collectionRef:i,children:s})};l.displayName=t;let u=e+"CollectionSlot",c=o.forwardRef((e,t)=>{let{scope:s,children:i}=e,a=n(u,s),o=(0,K.e)(t,a.collectionRef);return(0,r.jsx)(V.g7,{ref:o,children:i})});c.displayName=u;let h=e+"CollectionItemSlot",d="data-radix-collection-item",f=o.forwardRef((e,t)=>{let{scope:s,children:i,...a}=e,l=o.useRef(null),u=(0,K.e)(t,l),c=n(h,s);return o.useEffect(()=>(c.itemMap.set(l,{ref:l,...a}),()=>void c.itemMap.delete(l))),(0,r.jsx)(V.g7,{[d]:"",ref:u,children:i})});return f.displayName=h,[{Provider:l,Slot:c,ItemSlot:f},function(t){let s=n(e+"CollectionConsumer",t);return o.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(s.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[s.collectionRef,s.itemMap])},i]}(X),[et,es]=(0,_.b)(X,[ee]),[er,ei]=et(X),ea=o.forwardRef((e,t)=>(0,r.jsx)(Y.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(Y.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(en,{...e,ref:t})})}));ea.displayName=X;var en=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,orientation:i,loop:a=!1,dir:n,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:d=!1,...f}=e,p=o.useRef(null),m=(0,K.e)(t,p),y=H(n),[g=null,b]=(0,$.T)({prop:l,defaultProp:u,onChange:c}),[v,x]=o.useState(!1),j=(0,Z.W)(h),w=J(s),C=o.useRef(!1),[S,N]=o.useState(0);return o.useEffect(()=>{let e=p.current;if(e)return e.addEventListener(B,j),()=>e.removeEventListener(B,j)},[j]),(0,r.jsx)(er,{scope:s,orientation:i,dir:y,loop:a,currentTabStopId:g,onItemFocus:o.useCallback(e=>b(e),[b]),onItemShiftTab:o.useCallback(()=>x(!0),[]),onFocusableItemAdd:o.useCallback(()=>N(e=>e+1),[]),onFocusableItemRemove:o.useCallback(()=>N(e=>e-1),[]),children:(0,r.jsx)(z.WV.div,{tabIndex:v||0===S?-1:0,"data-orientation":i,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:(0,U.M)(e.onMouseDown,()=>{C.current=!0}),onFocus:(0,U.M)(e.onFocus,e=>{let t=!C.current;if(e.target===e.currentTarget&&t&&!v){let t=new CustomEvent(B,W);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=w().filter(e=>e.focusable);ec([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),d)}}C.current=!1}),onBlur:(0,U.M)(e.onBlur,()=>x(!1))})})}),eo="RovingFocusGroupItem",el=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,focusable:i=!0,active:a=!1,tabStopId:n,...l}=e,u=(0,L.M)(),c=n||u,h=ei(eo,s),d=h.currentTabStopId===c,f=J(s),{onFocusableItemAdd:p,onFocusableItemRemove:m}=h;return o.useEffect(()=>{if(i)return p(),()=>m()},[i,p,m]),(0,r.jsx)(Y.ItemSlot,{scope:s,id:c,focusable:i,active:a,children:(0,r.jsx)(z.WV.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:(0,U.M)(e.onMouseDown,e=>{i?h.onItemFocus(c):e.preventDefault()}),onFocus:(0,U.M)(e.onFocus,()=>h.onItemFocus(c)),onKeyDown:(0,U.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,s){var r;let i=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return eu[i]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let r=s.indexOf(e.currentTarget);s=h.loop?function(e,t){return e.map((s,r)=>e[(t+r)%e.length])}(s,r+1):s.slice(r+1)}setTimeout(()=>ec(s))}})})})});el.displayName=eo;var eu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ec(e,t=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}var eh=s(67264),ed="Tabs",[ef,ep]=(0,_.b)(ed,[es]),em=es(),[ey,eg]=ef(ed),eb=o.forwardRef((e,t)=>{let{__scopeTabs:s,value:i,onValueChange:a,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:u="automatic",...c}=e,h=H(l),[d,f]=(0,$.T)({prop:i,onChange:a,defaultProp:n});return(0,r.jsx)(ey,{scope:s,baseId:(0,L.M)(),value:d,onValueChange:f,orientation:o,dir:h,activationMode:u,children:(0,r.jsx)(z.WV.div,{dir:h,"data-orientation":o,...c,ref:t})})});eb.displayName=ed;var ev="TabsList",ex=o.forwardRef((e,t)=>{let{__scopeTabs:s,loop:i=!0,...a}=e,n=eg(ev,s),o=em(s);return(0,r.jsx)(ea,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:i,children:(0,r.jsx)(z.WV.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:t})})});ex.displayName=ev;var ej="TabsTrigger",ew=o.forwardRef((e,t)=>{let{__scopeTabs:s,value:i,disabled:a=!1,...n}=e,o=eg(ej,s),l=em(s),u=eN(o.baseId,i),c=eR(o.baseId,i),h=i===o.value;return(0,r.jsx)(el,{asChild:!0,...l,focusable:!a,active:h,children:(0,r.jsx)(z.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u,...n,ref:t,onMouseDown:(0,U.M)(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(i)}),onKeyDown:(0,U.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(i)}),onFocus:(0,U.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||a||!e||o.onValueChange(i)})})})});ew.displayName=ej;var eC="TabsContent",eS=o.forwardRef((e,t)=>{let{__scopeTabs:s,value:i,forceMount:a,children:n,...l}=e,u=eg(eC,s),c=eN(u.baseId,i),h=eR(u.baseId,i),d=i===u.value,f=o.useRef(d);return o.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(eh.z,{present:a||d,children:({present:s})=>(0,r.jsx)(z.WV.div,{"data-state":d?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!s,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&n})})});function eN(e,t){return`${e}-trigger-${t}`}function eR(e,t){return`${e}-content-${t}`}eS.displayName=eC;var eO=s(25008);let eP=o.forwardRef(({className:e,...t},s)=>r.jsx(ex,{ref:s,className:(0,eO.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));eP.displayName=ex.displayName;let ek=o.forwardRef(({className:e,...t},s)=>r.jsx(ew,{ref:s,className:(0,eO.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));ek.displayName=ew.displayName;let eE=o.forwardRef(({className:e,...t},s)=>r.jsx(eS,{ref:s,className:(0,eO.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));eE.displayName=eS.displayName;var eT=s(27757),eM=s(98969);let eq=o.forwardRef(({className:e,...t},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:(0,eO.cn)("w-full caption-bottom text-sm",e),...t})}));eq.displayName="Table";let eF=o.forwardRef(({className:e,...t},s)=>r.jsx("thead",{ref:s,className:(0,eO.cn)("[&_tr]:border-b",e),...t}));eF.displayName="TableHeader";let eD=o.forwardRef(({className:e,...t},s)=>r.jsx("tbody",{ref:s,className:(0,eO.cn)("[&_tr:last-child]:border-0",e),...t}));eD.displayName="TableBody",o.forwardRef(({className:e,...t},s)=>r.jsx("tfoot",{ref:s,className:(0,eO.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let eQ=o.forwardRef(({className:e,...t},s)=>r.jsx("tr",{ref:s,className:(0,eO.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));eQ.displayName="TableRow";let eI=o.forwardRef(({className:e,...t},s)=>r.jsx("th",{ref:s,className:(0,eO.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));eI.displayName="TableHead";let eA=o.forwardRef(({className:e,...t},s)=>r.jsx("td",{ref:s,className:(0,eO.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));eA.displayName="TableCell",o.forwardRef(({className:e,...t},s)=>r.jsx("caption",{ref:s,className:(0,eO.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var eU=o.forwardRef((e,t)=>(0,r.jsx)(z.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));eU.displayName="Label";let e_=(0,s(87972).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),eK=o.forwardRef(({className:e,...t},s)=>r.jsx(eU,{ref:s,className:(0,eO.cn)(e_(),e),...t}));eK.displayName=eU.displayName;var eV=s(9013);let eL=(0,eV.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ez=(0,eV.Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),eZ=(0,eV.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var e$=s(28153),eG=s(11299),eH=s(78041),eB=s(80072);function eW(){let[e,t]=(0,o.useState)([]),[s,l]=(0,o.useState)([]),[u,c]=(0,o.useState)(null),[h,d]=(0,o.useState)([]),[f,p]=(0,o.useState)([]),[m,y]=(0,o.useState)(null),[g,b]=(0,o.useState)(null),[v,x]=(0,o.useState)(null),[j,w]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),[N,R]=(0,o.useState)(!1),[O,P]=(0,o.useState)(null),[k,E]=(0,o.useState)(!1),[T,M]=(0,o.useState)(""),[q,F]=(0,o.useState)(""),[D,Q]=(0,o.useState)(""),[U,_]=(0,o.useState)(""),[K,V]=(0,o.useState)(""),[L,z]=(0,o.useState)(""),[Z,$]=(0,o.useState)([]),[G,H]=(0,o.useState)(!1),[B,W]=(0,o.useState)(""),[X,Y]=(0,o.useState)(""),[J,ee]=(0,o.useState)(""),[et,es]=(0,o.useState)(""),[er,ei]=(0,o.useState)(""),[ea,en]=(0,o.useState)(""),eo=e=>{P(e),M(e.Name),F(e.Unit),Q(e.Type||""),_(e.Category.Category||""),V(e.Category.Subcategory||""),z(e.Category["Sub subcategory"]||""),$(e.Prices),E(!0)},el=()=>{E(!1),P(null)},eu=()=>{H(!1)},ec=async()=>{try{let e=new Date;e.setMonth(e.getMonth()),e.setDate(1);let s=e.toISOString().split("T")[0]+" 00:00:00";await (0,eH.hM)({Name:B,Unit:X,Type:J,Category:{Category:et,Subcategory:er||null,"Sub subcategory":ea||null},Prices:[[s,null]],ID:"",Qty:0,Source:null});let r=await (0,eH.if)(et);t(r)}catch(e){console.error("Error creating material:",e)}eu()},eh=e=>{Q(e),_(""),V(""),z("")},ed=e=>{_(e),V(""),z("")},ef=e=>{V(e),z("")},ep=async()=>{if(O){try{if(await (0,eH.VR)(O.Number,{Name:T,Unit:q,Type:D,Category:{Category:U,Subcategory:K,"Sub subcategory":L},Prices:Z}),et){let e=await (0,eH.if)(et,v||void 0);t(e)}else if(g){let e=await (0,eH.if)(g,v||void 0);t(e)}}catch(e){console.error("Error updating material:",e)}el()}},em=async()=>{let e=new Date;e.setMonth(e.getMonth()),e.setDate(1);let s=e.toISOString().split("T")[0]+" 00:00:00";try{let e=(await (0,eH.aS)()).map(e=>{if(e.Prices.some(([e])=>e===s))throw Error(`Month ${s} already exists for material ${e.Name}`);return{...e,Prices:[...e.Prices,[s,null]]}});await Promise.all(e.map(e=>(0,eH.VR)(e.Number,{Prices:e.Prices}))),t(e)}catch(e){console.error("Error adding new month to materials:",e)}},ey=s.find(e=>e.name===D),eg=ey?.categories?.find(e=>e.name===U),eb=eg?.subcategories?.find(e=>e.name===K);return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)(I.z,{className:"md:hidden bg-slate-900 mb-4",onClick:()=>R(!N),children:[r.jsx(i.Z,{className:"h-6 w-6"}),"Categories"]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-[400px_1fr]",children:[(0,r.jsxs)("aside",{className:`space-y-4 bg-slate-900 p-4 rounded-lg text-white md:block ${N?"block":"hidden"}`,children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Categories"}),s.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)(I.z,{variant:"ghost",className:`w-full justify-start text-white hover:text-white hover:bg-slate-800 ${m===e.name?"font-bold":""}`,onClick:()=>{y(e.name),d(t=>t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name])},children:[h.includes(e.name)?r.jsx(a.Z,{className:"mr-2 h-4 w-4"}):r.jsx(n.Z,{className:"mr-2 h-4 w-4"}),e.name]}),h.includes(e.name)&&r.jsx("div",{className:"ml-4",children:e.categories.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)(I.z,{variant:"ghost",className:`w-full justify-start pl-6 text-slate-300 hover:text-white hover:bg-slate-800 ${g===e.name?"font-bold":""}`,onClick:()=>{b(e.name),x(null),p(t=>t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name])},children:[f.includes(e.name)?r.jsx(a.Z,{className:"mr-2 h-4 w-4"}):r.jsx(n.Z,{className:"mr-2 h-4 w-4"}),e.name]}),f.includes(e.name)&&e.subcategories&&r.jsx("div",{className:"ml-6",children:e.subcategories.map(e=>r.jsx(I.z,{variant:"ghost",className:`w-full justify-start pl-8 text-slate-400 hover:text-white hover:bg-slate-800 ${v===e.name?"font-bold":""}`,onClick:()=>{x(e.name)},children:e.name},e.name))})]},e.name))})]},e.name))]}),(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Cost Catalogue (Admin)"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(A.I,{placeholder:"Search materials...",className:"max-w-sm",value:C,onChange:e=>S(e.target.value),onKeyUp:e=>{"Enter"===e.key&&w(C)}}),r.jsx(I.z,{onClick:()=>{w(C)},children:"Search"}),r.jsx(I.z,{variant:"outline",onClick:()=>{S(""),w("")},children:"Clear"}),r.jsx(I.z,{variant:"outline",onClick:em,children:"Add New Month to All Materials"}),r.jsx(I.z,{variant:"outline",onClick:()=>{W(""),Y(""),ee(""),es(""),ei(""),en(""),H(!0)},children:"Add Material"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.length>0?e.map(e=>(0,r.jsxs)("div",{className:"relative",children:[r.jsx(e$.F,{name:e.Name,unit:e.Unit,location:"National",rating:4,price:e.Prices.find(e=>e[1])?.[1]||0,onClick:()=>c(e)}),r.jsx(I.z,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>eo(e),children:"Edit"})]},e.Number)):r.jsx("p",{className:"text-gray-500",children:"No materials found"})})]})]}),r.jsx(eM.Vq,{open:!!u,onOpenChange:()=>c(null),children:r.jsx(eM.cZ,{className:"max-w-2xl",children:u&&(0,r.jsxs)("div",{className:"p-4 space-y-4 bg-white rounded-lg",children:[r.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:u.Name}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"col-span-2 text-center",children:(0,r.jsxs)("p",{className:"text-gray-700 text-lg",children:["Latest Price:"," ",(0,r.jsxs)("span",{className:"text-green-600",children:["$",u.Prices.find(e=>e[1])?.[1]?.toFixed(2)||0]})]})}),r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Category:"})," ",u.Category.Category]})}),u.Category.Subcategory&&r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Subcategory:"})," ",u.Category.Subcategory]})}),u.Category["Sub subcategory"]&&r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Sub-Subcategory:"})," ",u.Category["Sub subcategory"]]})}),r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-gray-600",children:[r.jsx("span",{className:"font-semibold",children:"Unit:"})," ",u.Unit]})})]}),r.jsx(eG.a,{itemName:u.Name,prices:u.Prices.map(([e,t])=>({date:e,price:t})),onClose:()=>c(null)})]})})}),r.jsx(eM.Vq,{open:k,onOpenChange:el,children:(0,r.jsxs)(eM.cZ,{className:"max-w-xl",children:[r.jsx(eM.fK,{children:r.jsx(eM.$N,{children:"Edit Material"})}),(0,r.jsxs)("div",{className:"space-y-4 mt-4",children:[r.jsx(A.I,{placeholder:"Material Name",value:T,onChange:e=>M(e.target.value)}),r.jsx(A.I,{placeholder:"Unit",value:q,onChange:e=>F(e.target.value)}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Type"}),(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:D,onChange:e=>eh(e.target.value),children:[r.jsx("option",{value:"",children:"-- Select Type --"}),s.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Category"}),(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:U,onChange:e=>ed(e.target.value),disabled:!D,children:[r.jsx("option",{value:"",children:"-- Select Category --"}),ey?.categories&&ey.categories.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Subcategory"}),(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:K,onChange:e=>ef(e.target.value),disabled:!U,children:[r.jsx("option",{value:"",children:"-- Select Subcategory --"}),eg?.subcategories&&eg.subcategories.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Sub-Subcategory"}),(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:L,onChange:e=>z(e.target.value),disabled:!K,children:[r.jsx("option",{value:"",children:"-- Select Sub-Subcategory --"}),eb?.sub_subcategories&&eb.sub_subcategories.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"max-h-64 overflow-y-auto",children:[r.jsx("label",{className:"block text-sm font-medium",children:"Prices"}),Z.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[r.jsx(A.I,{type:"text",value:e[0],readOnly:!0,className:"w-1/2"}),r.jsx(A.I,{type:"number",value:e[1]??"",onChange:e=>{let s=[...Z];s[t][1]=e.target.value?parseFloat(e.target.value):null,$(s)},className:"w-1/2"})]},t))]})]}),(0,r.jsxs)(eM.cN,{children:[r.jsx(I.z,{variant:"outline",onClick:el,children:"Cancel"}),r.jsx(I.z,{onClick:ep,children:"Save"})]})]})}),r.jsx(eM.Vq,{open:G,onOpenChange:eu,children:(0,r.jsxs)(eM.cZ,{className:"max-w-xl",children:[r.jsx(eM.fK,{children:r.jsx(eM.$N,{children:"Add New Material"})}),(0,r.jsxs)("div",{className:"space-y-4 mt-4",children:[r.jsx(A.I,{placeholder:"Material Name",value:B,onChange:e=>W(e.target.value)}),r.jsx(A.I,{placeholder:"Unit",value:X,onChange:e=>Y(e.target.value)}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Type"}),(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:J,onChange:e=>ee(e.target.value),children:[r.jsx("option",{value:"",children:"-- Select Type --"}),s.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Category"}),J?(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:et,onChange:e=>es(e.target.value),children:[r.jsx("option",{value:"",children:"-- Select Category --"}),s.find(e=>e.name===J)?.categories.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]}):r.jsx("select",{className:"w-full border p-2 mt-1",disabled:!0,children:r.jsx("option",{children:"-- Select Type First --"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Subcategory"}),et?(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:er,onChange:e=>ei(e.target.value),children:[r.jsx("option",{value:"",children:"-- Select Subcategory --"}),s.find(e=>e.name===J)?.categories.find(e=>e.name===et)?.subcategories.map(e=>r.jsx("option",{value:e.name,children:e.name},e.name))]}):r.jsx("select",{className:"w-full border p-2 mt-1",disabled:!0,children:r.jsx("option",{children:"-- Select Category First --"})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium",children:"Sub-Subcategory"}),er?(0,r.jsxs)("select",{className:"w-full border p-2 mt-1",value:ea,onChange:e=>en(e.target.value),children:[r.jsx("option",{value:"",children:"-- Select Sub-Subcategory --"}),s.find(e=>e.name===J)?.categories.find(e=>e.name===et)?.subcategories.find(e=>e.name===er)?.sub_subcategories.map(e=>r.jsx("option",{value:e,children:e},e))]}):r.jsx("select",{className:"w-full border p-2 mt-1",disabled:!0,children:r.jsx("option",{children:"-- Select Subcategory First --"})})]})]}),(0,r.jsxs)(eM.cN,{children:[r.jsx(I.z,{variant:"outline",onClick:eu,children:"Cancel"}),r.jsx(I.z,{onClick:ec,children:"Create"})]})]})})]})}let eX=function(){let[e,t]=(0,o.useState)(null),[s,i]=(0,o.useState)(null),{user:a,error:n,isLoading:u}=(0,eB.aF)();console.log(a);let c=(0,l.NL)(),{data:h=[]}=q({queryKey:["materials"],queryFn:eH.aS}),{data:d=[],isLoading:f,error:p}=q({queryKey:["categories"],queryFn:eH.yu});Q({mutationFn:eH.hM,onSuccess:()=>{c.invalidateQueries({queryKey:["materials"]})}}),Q({mutationFn:({id:e,material:t})=>(0,eH.VR)(e,t),onSuccess:()=>{c.invalidateQueries({queryKey:["materials"]})}}),Q({mutationFn:eH.Gx,onSuccess:()=>{c.invalidateQueries({queryKey:["materials"]})}});let m=Q({mutationFn:eH.Z$,onSuccess:()=>{c.invalidateQueries({queryKey:["categories"]})}}),y=Q({mutationFn:({id:e,category:t})=>(0,eH.TJ)(e,t),onSuccess:()=>{c.invalidateQueries({queryKey:["categories"]})}}),g=Q({mutationFn:eH.FE,onSuccess:()=>{c.invalidateQueries({queryKey:["categories"]})}}),b=e=>{m.mutate(e)},v=(e,t)=>{y.mutate({id:e,category:t})},x=e=>{g.mutate(e)},j=async()=>{window.location.href="/api/auth/logout"};return(0,r.jsxs)("div",{className:"container mx-auto py-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),r.jsx(I.z,{variant:"outline",onClick:j,children:"Logout"})]}),(0,r.jsxs)(eb,{defaultValue:"materials",className:"space-y-4",children:[(0,r.jsxs)(eP,{children:[r.jsx(ek,{value:"materials",children:"Materials"}),r.jsx(ek,{value:"categories",children:"Categories"})]}),r.jsx(eE,{value:"materials",className:"space-y-4",children:r.jsx(eW,{})}),r.jsx(eE,{value:"categories",className:"space-y-4",children:(0,r.jsxs)(eT.Zb,{children:[r.jsx(eT.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx(eT.ll,{children:"Types"}),r.jsx(eT.SZ,{children:"Manage your material types, categories and subcategories."})]}),(0,r.jsxs)(eM.Vq,{children:[r.jsx(eM.hg,{asChild:!0,children:(0,r.jsxs)(I.z,{children:[r.jsx(eL,{className:"w-4 h-4 mr-2"}),"Add Type"]})}),(0,r.jsxs)(eM.cZ,{children:[(0,r.jsxs)(eM.fK,{children:[r.jsx(eM.$N,{children:"Add New Type"}),r.jsx(eM.Be,{children:"Add a new category to organize your materials."})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b({name:new FormData(e.currentTarget).get("name"),categories:[]})},children:[r.jsx("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(eK,{htmlFor:"categoryName",children:"Type Name"}),r.jsx(A.I,{id:"categoryName",name:"name",placeholder:"Category name"})]})}),r.jsx(eM.cN,{children:r.jsx(I.z,{type:"submit",children:"Save Type"})})]})]})]})]})}),r.jsx(eT.aY,{children:f?r.jsx("div",{children:"Loading categories..."}):p?(0,r.jsxs)("div",{children:["Error loading categories: ",p.message]}):r.jsx("div",{className:"rounded-md border",children:(0,r.jsxs)(eq,{children:[r.jsx(eF,{children:(0,r.jsxs)(eQ,{children:[r.jsx(eI,{children:"Category"}),r.jsx(eI,{children:"Subcategories"}),r.jsx(eI,{className:"text-right",children:"Actions"})]})}),r.jsx(eD,{children:Array.isArray(d)?d.map(e=>(0,r.jsxs)(eQ,{children:[r.jsx(eA,{className:"font-medium",children:e.name}),r.jsx(eA,{children:Array.isArray(e.categories)?e.categories.map(e=>e.name).join(", "):"No subcategories"}),(0,r.jsxs)(eA,{className:"text-right space-x-2",children:[r.jsx(I.z,{variant:"ghost",size:"icon",onClick:()=>i(e),children:r.jsx(ez,{className:"h-4 w-4"})}),r.jsx(I.z,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>x(e.id),children:r.jsx(eZ,{className:"h-4 w-4"})})]})]},e.id)):r.jsx(eQ,{children:r.jsx(eA,{colSpan:3,children:"No categories available"})})})]})})})]})})]}),r.jsx(eM.Vq,{open:!!s,onOpenChange:()=>i(null),children:(0,r.jsxs)(eM.cZ,{children:[(0,r.jsxs)(eM.fK,{children:[r.jsx(eM.$N,{children:"Edit Type"}),r.jsx(eM.Be,{children:"Update the details of your type."})]}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),s){let t=new FormData(e.currentTarget),r={name:t.get("name"),categories:s.categories.map(e=>({...e,name:t.get(`subcat-${e.name}`)}))};v(s.id,r),i(null)}},children:[(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(eK,{htmlFor:"edit-category-name",children:"Type Name"}),r.jsx(A.I,{id:"edit-category-name",name:"name",defaultValue:s?.name})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(eK,{children:"Categories"}),s?.categories.map((e,t)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(A.I,{name:`subcat-${e.name}`,defaultValue:e.name}),r.jsx(I.z,{type:"button",variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>{s&&i({...s,categories:s.categories.filter((e,s)=>s!==t)})},children:r.jsx(eZ,{className:"h-4 w-4"})})]},t)),(0,r.jsxs)(I.z,{type:"button",variant:"outline",className:"mt-2",onClick:()=>{s&&i({...s,categories:[...s.categories,{name:"",sub_subcategories:[]}]})},children:[r.jsx(eL,{className:"w-4 h-4 mr-2"}),"Add Category"]})]})]}),r.jsx(eM.cN,{children:r.jsx(I.z,{type:"submit",children:"Save Changes"})})]})]})})]})}},93957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(97247),i=s(28964),a=s(34178);function n({children:e}){let[t,s]=(0,i.useState)(!0);return((0,a.useRouter)(),t)?r.jsx("div",{children:"Loading..."}):r.jsx(r.Fragment,{children:e})}},78041:(e,t,s)=>{"use strict";s.d(t,{FE:()=>f,Gx:()=>u,TJ:()=>d,VR:()=>l,Z$:()=>h,aS:()=>a,hM:()=>o,if:()=>n,yu:()=>c});var r=s(10863);let i="http://139.59.246.168:8040",a=async()=>{let e=await r.Z.get(`${i}/materials`);return console.log(e.data),e.data},n=async(e,t,s)=>{let a=new URLSearchParams({category:e});t&&a.append("subcategory",t),s&&a.append("subSubcategory",s);let n=await r.Z.get(`${i}/materials/filter`,{params:a});return console.log(n.data),n.data},o=async e=>(await r.Z.post(`${i}/materials`,e)).data,l=async(e,t)=>(await r.Z.put(`${i}/materials/${e}`,t)).data,u=async e=>{await r.Z.delete(`${i}/materials/${e}`)},c=async()=>{let e=await r.Z.get(`${i}/types`);return console.log(e.data),e.data},h=async e=>(await r.Z.post(`${i}/types`,e)).data,d=async(e,t)=>(await r.Z.put(`${i}/types/${e}`,t)).data,f=async e=>{await r.Z.delete(`${i}/types/${e}`)}},96572:(e,t,s)=>{"use strict";s.d(t,{default:()=>v});var r=s(97247),i=s(51370),a=s(49508),n=s(59489),o=s(62945),l=class extends o.l{constructor(e={}){super(),this.config=e,this.#O=new Map}#O;build(e,t,s){let r=t.queryKey,n=t.queryHash??(0,i.Rm)(r,t),o=this.get(n);return o||(o=new a.A({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#O.has(e.queryHash)||(this.#O.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#O.get(e.queryHash);t&&(e.destroy(),t===e&&this.#O.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#O.get(e)}getAll(){return[...this.#O.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i._x)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i._x)(e,t)):t}notify(e){n.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},u=s(48079),c=class extends o.l{constructor(e={}){super(),this.config=e,this.#P=new Set,this.#k=new Map,this.#E=0}#P;#k;#E;build(e,t,s){let r=new u.m({mutationCache:this,mutationId:++this.#E,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#P.add(e);let t=h(e);if("string"==typeof t){let s=this.#k.get(t);s?s.push(e):this.#k.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#P.delete(e)){let t=h(e);if("string"==typeof t){let s=this.#k.get(t);if(s){if(s.length>1){let t=s.indexOf(e);-1!==t&&s.splice(t,1)}else s[0]===e&&this.#k.delete(t)}}}this.notify({type:"removed",mutation:e})}canRun(e){let t=h(e);if("string"!=typeof t)return!0;{let s=this.#k.get(t),r=s?.find(e=>"pending"===e.state.status);return!r||r===e}}runNext(e){let t=h(e);if("string"!=typeof t)return Promise.resolve();{let s=this.#k.get(t)?.find(t=>t!==e&&t.state.isPaused);return s?.continue()??Promise.resolve()}}clear(){n.V.batch(()=>{this.#P.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#P.clear(),this.#k.clear()})}getAll(){return Array.from(this.#P)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.X7)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,i.X7)(e,t))}notify(e){n.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return n.V.batch(()=>Promise.all(e.map(e=>e.continue().catch(i.ZT))))}};function h(e){return e.options.scope?.id}var d=s(45216),f=s(99784);function p(e){return{onFetch:(t,s)=>{let r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],o=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},u=0,c=async()=>{let s=!1,c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?s=!0:t.signal.addEventListener("abort",()=>{s=!0}),t.signal)})},h=(0,i.cG)(t.options,t.fetchOptions),d=async(e,r,a)=>{if(s)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let n={client:t.client,queryKey:t.queryKey,pageParam:r,direction:a?"backward":"forward",meta:t.options.meta};c(n);let o=await h(n),{maxPages:l}=t.options,u=a?i.Ht:i.VX;return{pages:u(e.pages,o,l),pageParams:u(e.pageParams,r,l)}};if(a&&n.length){let e="backward"===a,t={pages:n,pageParams:o},s=(e?function(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}:m)(r,t);l=await d(t,s,e)}else{let t=e??n.length;do{let e=0===u?o[0]??r.initialPageParam:m(r,l);if(u>0&&null==e)break;l=await d(l,e),u++}while(u<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=c}}}function m(e,{pages:t,pageParams:s}){let r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}var y=class{#T;#M;#q;#F;#D;#Q;#I;#A;constructor(e={}){this.#T=e.queryCache||new l,this.#M=e.mutationCache||new c,this.#q=e.defaultOptions||{},this.#F=new Map,this.#D=new Map,this.#Q=0}mount(){this.#Q++,1===this.#Q&&(this.#I=d.j.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#T.onFocus())}),this.#A=f.N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#T.onOnline())}))}unmount(){this.#Q--,0===this.#Q&&(this.#I?.(),this.#I=void 0,this.#A?.(),this.#A=void 0)}isFetching(e){return this.#T.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#M.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#T.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),s=this.#T.build(this,t),r=s.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime((0,i.KC)(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#T.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){let r=this.defaultQueryOptions({queryKey:e}),a=this.#T.get(r.queryHash),n=a?.state.data,o=(0,i.SE)(t,n);if(void 0!==o)return this.#T.build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return n.V.batch(()=>this.#T.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,s)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#T.get(t.queryHash)?.state}removeQueries(e){let t=this.#T;n.V.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let s=this.#T,r={type:"active",...e};return n.V.batch(()=>(s.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){let s={revert:!0,...t};return Promise.all(n.V.batch(()=>this.#T.findAll(e).map(e=>e.cancel(s)))).then(i.ZT).catch(i.ZT)}invalidateQueries(e,t={}){return n.V.batch(()=>{if(this.#T.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")return Promise.resolve();let s={...e,type:e?.refetchType??e?.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e,t={}){let s={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(n.V.batch(()=>this.#T.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(i.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(i.ZT)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let s=this.#T.build(this,t);return s.isStaleByTime((0,i.KC)(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.ZT).catch(i.ZT)}fetchInfiniteQuery(e){return e.behavior=p(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.ZT).catch(i.ZT)}ensureInfiniteQueryData(e){return e.behavior=p(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return f.N.isOnline()?this.#M.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#T}getMutationCache(){return this.#M}getDefaultOptions(){return this.#q}setDefaultOptions(e){this.#q=e}setQueryDefaults(e,t){this.#F.set((0,i.Ym)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#F.values()],s={};return t.forEach(t=>{(0,i.to)(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){this.#D.set((0,i.Ym)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#D.values()],s={};return t.forEach(t=>{(0,i.to)(e,t.mutationKey)&&(s={...s,...t.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#q.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===i.CN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#q.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#T.clear(),this.#M.clear()}},g=s(41755),b=s(28964);function v({children:e}){let[t]=(0,b.useState)(()=>new y);return r.jsx(g.aH,{client:t,children:e})}},80072:(e,t,s)=>{"use strict";t.aF=t.UserProvider=void 0;let r=s(27863),i=r.__importStar(s(70604));Object.defineProperty(t,"UserProvider",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"aF",{enumerable:!0,get:function(){return i.useUser}}),r.__importDefault(s(38261))},76372:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useConfig=void 0;let r=s(27863).__importStar(s(28964)),i=(0,r.createContext)({});t.useConfig=()=>(0,r.useContext)(i),t.default=({children:e,loginUrl:t=process.env.NEXT_PUBLIC_AUTH0_LOGIN||"/api/auth/login"})=>r.default.createElement(i.Provider,{value:{loginUrl:t}},e)},70604:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUser=t.UserContext=t.RequestError=void 0;let r=s(27863),i=r.__importStar(s(28964)),a=r.__importDefault(s(76372));class n extends Error{constructor(e){super(),this.status=e,Object.setPrototypeOf(this,n.prototype)}}t.RequestError=n;let o="You forgot to wrap your app in <UserProvider>";t.UserContext=(0,i.createContext)({get user(){throw Error(o)},get error(){throw Error(o)},get isLoading(){throw Error(o)},checkSession:()=>{throw Error(o)}}),t.useUser=()=>(0,i.useContext)(t.UserContext);let l=async e=>{let t;try{t=await fetch(e)}catch(e){throw new n(0)}if(204!=t.status){if(t.ok)return t.json();throw new n(t.status)}};t.default=({children:e,user:s,profileUrl:r=process.env.NEXT_PUBLIC_AUTH0_PROFILE||"/api/auth/me",loginUrl:n,fetcher:o=l})=>{let[u,c]=(0,i.useState)({user:s,isLoading:!s}),h=(0,i.useCallback)(async()=>{try{let e=await o(r);c(t=>Object.assign(Object.assign({},t),{user:e,error:void 0}))}catch(e){c(t=>Object.assign(Object.assign({},t),{error:e}))}},[r]);(0,i.useEffect)(()=>{u.user||(async()=>{await h(),c(e=>Object.assign(Object.assign({},e),{isLoading:!1}))})()},[u.user]);let{user:d,error:f,isLoading:p}=u,m=(0,i.useMemo)(()=>({user:d,error:f,isLoading:p,checkSession:h}),[d,f,p,h]);return i.default.createElement(a.default,{loginUrl:n},i.default.createElement(t.UserContext.Provider,{value:m},e))}},38261:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=s(27863).__importStar(s(28964)),i=s(76372),a=s(70604),n=()=>r.default.createElement(r.default.Fragment,null),o=()=>r.default.createElement(r.default.Fragment,null);t.default=(e,t={})=>function(s){let{returnTo:l,onRedirecting:u=n,onError:c=o}=t,{loginUrl:h}=(0,i.useConfig)(),{user:d,error:f,isLoading:p}=(0,a.useUser)();return((0,r.useEffect)(()=>{let e;if((!d||f)&&!p){if(l)e=l;else{let t=window.location.toString();e=t.replace(new URL(t).origin,"")||"/"}window.location.assign(`${h}?returnTo=${encodeURIComponent(e)}`)}},[d,f,p]),f)?c(f):d?r.default.createElement(e,Object.assign({user:d},s)):u()}},70893:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(45347).createProxy)(String.raw`/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/admin/layout.tsx#default`)},37406:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(72051),i=s(45347);let a=(0,i.createProxy)(String.raw`/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/providers.tsx#default`),n=(0,i.createProxy)(String.raw`/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/app/admin/dashboard.tsx#default`);var o=s(20824);function l(){return r.jsx(o.UserProvider,{children:r.jsx(a,{children:r.jsx(n,{})})})}},20824:(e,t,s)=>{"use strict";let{createProxy:r}=s(45347);e.exports=r("/Users/shakir/Desktop/Concolabs/mb-frontend/masterbuilders-frontend/node_modules/@auth0/nextjs-auth0/dist/client/index.js")},45216:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var r=s(62945),i=s(51370),a=new class extends r.l{#U;#_;#K;constructor(){super(),this.#K=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#_||this.setEventListener(this.#K)}onUnsubscribe(){this.hasListeners()||(this.#_?.(),this.#_=void 0)}setEventListener(e){this.#K=e,this.#_?.(),this.#_=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#U!==e&&(this.#U=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#U?this.#U:globalThis.document?.visibilityState!=="hidden"}}},48079:(e,t,s)=>{"use strict";s.d(t,{R:()=>o,m:()=>n});var r=s(59489),i=s(74660),a=s(66382),n=class extends i.F{#V;#M;#L;constructor(e){super(),this.mutationId=e.mutationId,this.#M=e.mutationCache,this.#V=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#V.includes(e)||(this.#V.push(e),this.clearGcTimeout(),this.#M.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#V=this.#V.filter(t=>t!==e),this.scheduleGc(),this.#M.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#V.length||("pending"===this.state.status?this.scheduleGc():this.#M.remove(this))}continue(){return this.#L?.continue()??this.execute(this.state.variables)}async execute(e){this.#L=(0,a.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#z({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#z({type:"pause"})},onContinue:()=>{this.#z({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#M.canRun(this)});let t="pending"===this.state.status,s=!this.#L.canStart();try{if(!t){this.#z({type:"pending",variables:e,isPaused:s}),await this.#M.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#z({type:"pending",context:t,variables:e,isPaused:s})}let r=await this.#L.start();return await this.#M.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#M.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#z({type:"success",data:r}),r}catch(t){try{throw await this.#M.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#M.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#z({type:"error",error:t})}}finally{this.#M.runNext(this)}}#z(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),r.V.batch(()=>{this.#V.forEach(t=>{t.onMutationUpdate(e)}),this.#M.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},59489:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});var r=function(){let e=[],t=0,s=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0),a=r=>{t?e.push(r):i(()=>{s(r)})},n=()=>{let t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{s(e)})})})};return{batch:e=>{let s;t++;try{s=e()}finally{--t||n()}return s},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{s=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}()},99784:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(62945),i=s(51370),a=new class extends r.l{#Z=!0;#_;#K;constructor(){super(),this.#K=e=>{if(!i.sk&&window.addEventListener){let t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#_||this.setEventListener(this.#K)}onUnsubscribe(){this.hasListeners()||(this.#_?.(),this.#_=void 0)}setEventListener(e){this.#K=e,this.#_?.(),this.#_=e(this.setOnline.bind(this))}setOnline(e){this.#Z!==e&&(this.#Z=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#Z}}},49508:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,z:()=>l});var r=s(51370),i=s(59489),a=s(66382),n=s(74660),o=class extends n.F{#$;#G;#H;#e;#L;#q;#B;constructor(e){super(),this.#B=!1,this.#q=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#e=e.client,this.#H=this.#e.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#$=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,r=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#$,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#L?.promise}setOptions(e){this.options={...this.#q,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#H.remove(this)}setData(e,t){let s=(0,r.oE)(this.state.data,e,this.options);return this.#z({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#z({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#L?.promise;return this.#L?.cancel(e),t?t.then(r.ZT).catch(r.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#$)}isActive(){return this.observers.some(e=>!1!==(0,r.Nc)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r.CN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!(0,r.Kp)(this.state.dataUpdatedAt,e)}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#L?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#L?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#H.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#L&&(this.#B?this.#L.cancel({revert:!0}):this.#L.cancelRetry()),this.scheduleGc()),this.#H.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#z({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#L)return this.#L.continueRetry(),this.#L.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let s=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#B=!0,s.signal)})},n={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#e,state:this.state,fetchFn:()=>{let e=(0,r.cG)(this.options,t),s={client:this.#e,queryKey:this.queryKey,meta:this.meta};return(i(s),this.#B=!1,this.options.persister)?this.options.persister(e,s,this):e(s)}};i(n),this.options.behavior?.onFetch(n,this),this.#G=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==n.fetchOptions?.meta)&&this.#z({type:"fetch",meta:n.fetchOptions?.meta});let o=e=>{(0,a.DV)(e)&&e.silent||this.#z({type:"error",error:e}),(0,a.DV)(e)||(this.#H.config.onError?.(e,this),this.#H.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#L=(0,a.Mz)({initialPromise:t?.initialPromise,fn:n.fetchFn,abort:s.abort.bind(s),onSuccess:e=>{if(void 0===e){o(Error(`${this.queryHash} data is undefined`));return}try{this.setData(e)}catch(e){o(e);return}this.#H.config.onSuccess?.(e,this),this.#H.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:o,onFail:(e,t)=>{this.#z({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#z({type:"pause"})},onContinue:()=>{this.#z({type:"continue"})},retry:n.options.retry,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>!0}),this.#L.start()}#z(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let s=e.error;if((0,a.DV)(s)&&s.revert&&this.#G)return{...this.#G,fetchStatus:"idle"};return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),i.V.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#H.notify({query:this,type:"updated",action:e})})}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,a.Kw)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}},74660:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(51370),i=class{#W;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,r.PN)(this.gcTime)&&(this.#W=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(r.sk?1/0:3e5))}clearGcTimeout(){this.#W&&(clearTimeout(this.#W),this.#W=void 0)}}},66382:(e,t,s)=>{"use strict";s.d(t,{DV:()=>c,Kw:()=>l,Mz:()=>h});var r=s(45216),i=s(99784),a=s(21599),n=s(51370);function o(e){return Math.min(1e3*2**e,3e4)}function l(e){return(e??"online")!=="online"||i.N.isOnline()}var u=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function c(e){return e instanceof u}function h(e){let t,s=!1,c=0,h=!1,d=(0,a.O)(),f=()=>r.j.isFocused()&&("always"===e.networkMode||i.N.isOnline())&&e.canRun(),p=()=>l(e.networkMode)&&e.canRun(),m=s=>{h||(h=!0,e.onSuccess?.(s),t?.(),d.resolve(s))},y=s=>{h||(h=!0,e.onError?.(s),t?.(),d.reject(s))},g=()=>new Promise(s=>{t=e=>{(h||f())&&s(e)},e.onPause?.()}).then(()=>{t=void 0,h||e.onContinue?.()}),b=()=>{let t;if(h)return;let r=0===c?e.initialPromise:void 0;try{t=r??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(m).catch(t=>{if(h)return;let r=e.retry??(n.sk?0:3),i=e.retryDelay??o,a="function"==typeof i?i(c,t):i,l=!0===r||"number"==typeof r&&c<r||"function"==typeof r&&r(c,t);if(s||!l){y(t);return}c++,e.onFail?.(c,t),(0,n._v)(a).then(()=>f()?void 0:g()).then(()=>{s?y(t):b()})})};return{promise:d,cancel:t=>{h||(y(new u(t)),e.abort?.())},continue:()=>(t?.(),d),cancelRetry:()=>{s=!0},continueRetry:()=>{s=!1},canStart:p,start:()=>(p()?b():g().then(b),d)}}},62945:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});var r=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},21599:(e,t,s)=>{"use strict";function r(){let e,t;let s=new Promise((s,r)=>{e=s,t=r});function r(e){Object.assign(s,e),delete s.resolve,delete s.reject}return s.status="pending",s.catch(()=>{}),s.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},s.reject=e=>{r({status:"rejected",reason:e}),t(e)},s}s.d(t,{O:()=>r})},51370:(e,t,s)=>{"use strict";s.d(t,{CN:()=>C,Ht:()=>w,KC:()=>l,Kp:()=>o,Nc:()=>u,PN:()=>n,Rm:()=>d,SE:()=>a,VS:()=>m,VX:()=>j,X7:()=>h,Ym:()=>f,ZT:()=>i,_v:()=>v,_x:()=>c,cG:()=>S,oE:()=>x,sk:()=>r,to:()=>p});var r="undefined"==typeof window||"Deno"in globalThis;function i(){}function a(e,t){return"function"==typeof e?e(t):e}function n(e){return"number"==typeof e&&e>=0&&e!==1/0}function o(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t){return"function"==typeof e?e(t):e}function u(e,t){return"function"==typeof e?e(t):e}function c(e,t){let{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:n,stale:o}=e;if(n){if(r){if(t.queryHash!==d(n,t.options))return!1}else if(!p(t.queryKey,n))return!1}if("all"!==s){let e=t.isActive();if("active"===s&&!e||"inactive"===s&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!a||!!a(t))}function h(e,t){let{exact:s,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(f(t.options.mutationKey)!==f(a))return!1}else if(!p(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&(!i||!!i(t))}function d(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,(e,t)=>g(t)?Object.keys(t).sort().reduce((e,s)=>(e[s]=t[s],e),{}):t)}function p(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(s=>!p(e[s],t[s]))}function m(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let s in e)if(e[s]!==t[s])return!1;return!0}function y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let s=t.prototype;return!!(b(s)&&s.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e){return new Promise(t=>{setTimeout(t,e)})}function x(e,t,s){return"function"==typeof s.structuralSharing?s.structuralSharing(e,t):!1!==s.structuralSharing?function e(t,s){if(t===s)return t;let r=y(t)&&y(s);if(r||g(t)&&g(s)){let i=r?t:Object.keys(t),a=i.length,n=r?s:Object.keys(s),o=n.length,l=r?[]:{},u=0;for(let a=0;a<o;a++){let o=r?a:n[a];(!r&&i.includes(o)||r)&&void 0===t[o]&&void 0===s[o]?(l[o]=void 0,u++):(l[o]=e(t[o],s[o]),l[o]===t[o]&&void 0!==t[o]&&u++)}return a===o&&u===a?t:l}return s}(e,t):t}function j(e,t,s=0){let r=[...e,t];return s&&r.length>s?r.slice(1):r}function w(e,t,s=0){let r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var C=Symbol();function S(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==C?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}},41755:(e,t,s)=>{"use strict";s.d(t,{NL:()=>n,aH:()=>o});var r=s(28964),i=s(97247),a=r.createContext(void 0),n=e=>{let t=r.useContext(a);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=({client:e,children:t})=>(r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,i.jsx)(a.Provider,{value:e,children:t}))}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,719,564,818,438,863,867],()=>s(45212));module.exports=r})();